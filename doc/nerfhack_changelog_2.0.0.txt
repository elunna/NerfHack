3139769de (tag: v2.0.0) Update nethack to nerfhack throughout the codebase.
7b26a6ecf Reset editlevel - note for hdf.
c22d63a86 Buff long worm speed.
a3bca44b3 Consolidate long worm attacks.
52b21184f Long worm segments have lower chance to be cut.
abd026b3a Change Wintercloak's claw attacks back to physical.
7fe91253e Give monkeys a small head start after they steal an item (from xNetHack).
735a6fa6d Important note in forge drinking check.
e37395cf0 Giant flies cannot be genocided.
e009cf6d6 Differentiate colors on new monsters.
4b264e0b8 Merge branch 'updates' into merges
58085dc9b Fix: Could still wish for enchantment on potions.
778140416 Origin confers ESP when wielded; slightly buff damage.
75bcae918 Add shadows to lost tomb #2.
73aa8b4b1 Most monsters in lost tomb #2 generate hostile.
0d75c68a6 Replace air squares in lost tomb #2.
69dbbcd7a Lost tomb #1 is no-teleport.
247e0a453 Buff Poseidon's Trident to +d14 damage.
e097ac712 Merge branch 'updates' into merges
b00300e1b Allow performing the invocation while hallucinating.
1c05ac9ba Fix typo when acid hits iron bars.
a85066b29 Fix: memory leak from magic fountain effect.
419b2edbd Fix symbol for compies.
5416f41a1 Remove nogen flag from compies dino.
037389381 Cleanup from f927f5db3.
a5acd81d8 fix issue #1305 - failed #untrap from doorway
be7cd65b9 fix issue #1337 - 'fireassist' vs 'f'iring aklys
f927f5db3 partly fix issue #1336 - pets vs floating eyes
cecb55815 Launchers can contribute to projectile damage (adapted from SpliceHack).
d7b7bc73e Cavemen start with a random set of dragon scales.
596cfd32d Update readme; fix some out of date info.
a2f1e0de4 Fix tile listing for arch-vile.
5b836b929 Fix tile listing for puddle.
fc82570fc Fix tile listing for dwarvish boots.
c4254b638 Silence a few more compiler warnings; fallthroughs, etc.
dcd37f74c Clean up and fix a bunch of compiler warnings.
a7719e0c4 Healers know blood potions (SpliceHack).
8a1ead35c Valkyries start with 5 daggers (SLASH'EM).
60e4a740c Barbarians start with a little more food (SLASH'EM).
cebbc1d97 Rogues start with a leather jacket instead of armor.
32a24b7bd Rogues start with scrolls of gold detection and teleport (SLASH'EM).
4eb7913cb Fix: racial armor bonuses were not being applied correctly to player.
41e73d89e Prevent lavawalking from burning up bags.
12bb8a670 Any role that could start with a magic marker always starts with one.
dd76e4c82 Flesh out the original lost tomb level.
f835115f9 Player gets either a magic lamp or a marker on leth-a, not both.
bf865dcc7 Fix: dipping corpses into forges triggered opoisoned check.
60c82bdcd Fix: handling of red dragon scales increase damage effects.
d9ab57276 Fix: AC addition errors in armor_bonus.
1a8f4952a Fix: enlightenment info for orange and silver scales.
9d5d95539 Fix: Couple bad otmp checks for dragon scales in defends().
7de1ab11e Fix: Possible null object access in drain item.
50faf1d3f Fix a sanity check for dragon scales.
550b83a1e Convert most armor checks to using armor_bonus (from xNetHack).
e6e6d052f Fix: Unworn dragon scaled armor not displaying correctly in inventory.
f420c0b60 Fix: failure restoring embedded dragon scales (from xNetHack).
498b5b69c Fix: bad check for dragon-scaled armor when getting price (from xNetHack).
357aa8eae Shopkeepers price dragon-scaled armor at a high value (from xNetHack).
9d81b82ff Fix: correct an oracularity that referred to dragon scale mail (from xNetHack).
1050d0669 Implement new dragon armor system: DSM replaced by scaled armor (from xNetHack/Fourk).
9fa10f8c4 Alternate lost tomb level - converted Demogorgon's level in xnh.
072f51c1a Extract leth-a to it's own branch.
36b80471e Allow one skill to be unrestricted by your god.
53ba043cb Unicorn horns always have a 1 in 20 chance of completely curing a condition.
eddbfb4ff Degraded unicorn horns have a 1 in 20 chance of success.
d54428124 New monster: compsognathus, or compy.
4b18cdbe9 Fix some stuff messed up when editing lethe levels.
18ae39023 Guarantee magic marker in Moloch's Sanctum (from EvilHack).
4055e9435 Add magic markers to soko1-7 and soko1-8.
0d6b7231b Knock fell beasts down a notch.
16f4aba21 Fix: giant anaconda hug attack wasn't triggering.
75dcf01e3 Fix handling of mon vs mon fire bolt and frost bolt.
4c6685f53 Lethe improvements.
7896c43ec Fix placement of items in Ogre/Undead Stockade.
95bc00bd7 Fix some item placement issues in leth-b.
f42200e5e Remove some bogusmon that are now implemented.
e2ef68fd4 New hallucinatory monsters from Secret of Mana and Magic of Scheherazade.
a7b7961e9 Alphabetize bogusmon.txt
0f75ffe51 The fat lady sings if you win while hallucinating (from xNetHack).
96d246e42 Shields of integrity are immune to erosion.
2a19dc1d6 Flip mines end levels.
afad764fe Dipping potions into toilets only contaminates the potion.
a1bc03d08 Fix: static declaration of hold_potion.
f59b3cd06 Forged items should never be greased.
3060e0ad8 Auto-merge forged items.
1eae5c187 Fix: forging message for quivered ingredients.
41f2a5c79 Adjust forging recipes slightly.
8679b4026 Possible extra doors to barracks in castle-2.
073284b3e Be a little more generous to non-primary spellcasters.
b0ab880fe Fix altar blood description.
e9fabad2e Allow monks to get basic in attack spells again.
46624a440 Non-primary spellcasters also get a memory bonus for casting spells.
544f9d6e8 Fix: vault guards were not entering vaults filled with grass.
0b8ad5fe3 Reading restricted spellbooks only grants 1000 turns of spell memory.
23abf1169 Revert "You cannot learn spells that you are restricted in."
1171a0538 Fix: Gnomish potions of oil could initialize with +1 spe. Fixes #67.
6c5c57f5c Sanity check for potions with spe.
396e2484a Fix: dinosaur gen for cavemen was broken.
af1c51a6d Fizzy potions and booze can cause burping.
47efe88d3 Fix: plural of undead is not undeads.
399d6bb59 Fix: inaccurate message for Sunsword reflecting light explosion.
25eb66860 Fix and refine artifact to-hit penalties.
acbb2e16f Tourists start with a pair of walking shoes.
07ef0e328 Revert "Tourists start with all of their optional equipment (from FIQHack)."
c436485c2 Disable Cthulhu's sanctum for now.
c8e95c270 Prevent teleport pain while fuzzing.
25913234a Reign in tourist XP gains from exploration and seeing monsters.
b268b1524 Merge branch 'updates' into merges
197165928 Remove shortsighted and noteleport flags from lethe levels.
8bb831cfd Merge branch 'updates' into merges
e0b4842db Archeologists get a luck bonus for wearing a fedora (from UnNetHack).
b7641eb0e Fix: fire bolt vs straw/paper golems.
f1589425c The wumpus is now unique to the ranger quest and much scarier. It also now appears in a random room in the Ranger's locate level.
31ff84087 Wumpus gets a thick hide.
8edaddf09 Auto-ID potions of sickness/fruit juice when neutralizing sickness with a unihorn.
cbdf94ce6 Fingerless gloves don't protect V from silver.
81e271420 Clarify some surface descriptions.
88e8b30fb Artifacts gifts only unrestrict skill for the first gift.
05ff061a7 Fix: Withering res vs disintegration res blocking regen (part 2).
b74939e5f Fix: Withering res check prevented regeneration after getting partial disintegration res.
0b3b930ae Antimagic shield gives 1AC, but 2MC.
48edac64f Skullcrusher is an aklys.
5755a7914 Fire brand and frost brand are now short swords (from EvilHack).
fe59cd54a Doomblade only deals d10 bonus damage.
65414c5a6 Skullcrusher only deals d10 bonus damage.
e397363e2 Revert "Revert "Increase default artifact to-hit penalty to -15.""
fad06f61e Lessen harshness of enchanting antimagic items.
428e0f35b Fix: mangled container hinge message.
889341e9c Raise Aleax weapon attacks to 2d6 (SporkHack).
ecabeaf87 Raise Aleax difficulty to 16 (SLASH'EM).
9e14bdbd4 Fix: Daedalus Delicatessen didn't have the food shop!
7c781c45a Fix: message when objects stick to adherer.
1a7b5e162 Leather cloaks provide 3AC, 0MC.
8395e8292 The Dark One gets a cloak of magic resistances and staff (from xNetHack).
643365f85 Burn the intro message.
710e82446 Additional info for monster lookup (pokedex).
23be35fe4 Reduce bonus for gnomish armor to 1AC.
e69b7457b Update shopkeeper cursing code to latest xnh version.
fd0fe9f9e Misplaced fallthrough in xname_flags.
f84a6cbeb Another fallthrough fix.
e19f61f2b One more fallthrough fix.
66e152e18 Even more fallthrough cleanup.
7d5050580 More fallthrough cleanup.
0d2e063c1 fallthrough annotation
f8247539e Fix: prop_types got nudged off by one in latest upstream merge.
3acb21111 Merge branch 'updates' into merges
bbbed15b7 Revert "Fix: Sleeping mimics could still hold you."
e6fef2352 Revert "Reveal mimics hit by sleep rays."
044eb7a6c Fix: non-peaceful demon still underlined.
207875f21 Add a dragon lair to castle-3.
0d30c7ad4 Make Wintercloak a unique monster.
e4ddc22ff Remove the spell of identify outright (from xNetHack)
99d5ecded Shopkeeper's real name may be used in cursing shoplifters message (from xNetHack).
7f0ce91e7 Cause some dwarves to be avid tipplers (from xNetHack).
c4518c75b Port modified version of L's Bullwhip Patch (from xNetHack).
9f7048c81 Implement monster introducing from SpliceHack.
2c53a2585 Warn the player that invisibility is about to time out (from xNetHack).
2be9e522f Don't generate bribing monsters as invisible (from xNetHack).
fd399ea6c Characters who don't like baths may resist fountain's urging (from xNetHack).
7f4baf16f giggles and vanishes message when a nymph finishes stealing (from xNetHack).
a8be8a59f Fix: revenants and ghoul queens could be considered zombies.
6b695b925 Zombies are immune to being scared by any source (from xNetHack).
453ab318b Fix: confused enchant weapon reset potion dilution (from xNetHack).
b3f09ea1c A number of additional effects wake up monsters (from xNetHack).
ee8f96f76 Give Baalzebub some combat buffs (from xNetHack).
a33895808 Add boomerangs, spare tinning kit, grappling hook to Arc home (from xNetHack).
5efe7a50e Allow Archeologists to highly enchant fedoras (from xNetHack).
3bffdc99e Tick drain life up to level 3 (from xNetHack).
f8ec891ff Rangers start the game with 2 beartraps (from xNetHack).
1cb1008f5 Make beartraps stackable (from xNetHack).
97f2ace68 Bump up fried tin nutrition and add stale tins (from xNetHack).
0647d1a14 Don't allow the debug fuzzer to enter explore mode (from xNetHack).
087fefbf4 Allow rock moles to actually eat rocks (from xNetHack).
82d6878fc New container traps.
73b331a13 Fix: missing stairs down in castle-3.
9a67c0085 Fix some of the places in castle-3.
9aaedb477 Update gitignore with Clion files.
0776e1d9d Fix: account for hiding monsters in mdisplacem (from xNetHack).
c9e04dae0 Allow maze walls of castle-3 to be diggable.
17a1369b2 Better blocking messages involving T-shirts.
c7f5dc4ea Grayswandir only deals bonus damage versus cross-aligned monsters.
4051c6e1b Allow iron bars in temple-2 to be broken.
ef61c9695 Fix: temple-2 chests embedded in wall.
df198b25b Fix: temple-2 temple area correction.
f5a69ca7f Master Kaen and the Grand Master get the same intrinsics that high level monks have.
822eafab5 Fix use of shield_bonus.
eadbd117d Make sure shield skill bonus is included in inventory AC.
0d39caaaa Lava blobs like lava and are flaming.
252089ed1 Shadows have the same defense as shades.
d196768f8 Shadows also resist shock.
e2b76061b All ghost class monsters get acid resistance.
dba547e06 Buff long worms. We're going to update the long worm so it's more of a mid-game threat. I increased their AC to -5AC (same as the giant turtle in UnNetHack), I gave them four d10 bite attacks (simulating having some 'crysknife' teeth), and made them accurate. These monsters are quite slow, so now they should function like tanks, slow but strong.
260e4ef2f Monsters won't try to use wands of digging on hardfloor levels.
fe431e83e Increase difficulty of mercenaries.
3329cb09f Jiggling blobs can jump.
2a440a7e3 Fix: diluted water created from dipping scroll of amnesia.
92aef6349 Polearms get a +4 to-hit bonus vs horses and centaurs.
e943dbbc8 Guarantee 2 scrolls of earth in soko.
bcc8b74d5 Bows and crossbows are two-handed.
f7e9f49ab Fix: Grass interfered with travel.
b22657bec Allow delis to buy and sell tin openers.
4765eee76 Buff shadows.
c2e4ab607 Allow teleport on soko entry level.
a0608954a Serenity info for suppressing conflict.
d5e0b6526 Archeologists of any race prize dwarven mattocks.
a7454eb9c Serenity also prevents conflict.
2f06ec6bd Increase AC penalty for racial hated items.
05510772c Switch probabilities of bags of holding vs oilskin sacks.
690c63823 Reduce odds of amulet of reflection.
b30ca678b Adjust gray stone odds.
7945b06fc Show monster alignment in pokedex.
f95b3e35d Reword 'magic saving throw'
fa6d2ee81 We can also become familiar with rings of increase damage/accuracy with enough experience.
e179b6733 Organize Serenity messages in enlightenment.
1a8100864 Pyrolisks have slightly negative alignment.
97333dc78 Pyrolisks can fly.
bcf8bc2d0 Mine fill levels only get ice rarely.
1f4008759 Rings of conflict usually generate cursed.
4d73f29a8 Wishing shortcut for ring of protection vs shapechangers (pfsc)
02a324e30 Fix: Sokoban missing downstair in soko5.
4562a95e1 Monstrous spiders get a little MR.
0b24b81de Monstrous spiders get infravision instead of accurate.
61403354d Cleanup comments in soko maps.
39b382cef Dwarves like cram and dislike lembas wafers (EvilHack).
ec5fbe9c2 Some monsters will not throw a weapon that is usable for both melee and throwing.
82d1da4b1 Make martial arts users immune to leg damage from bad kicks (from xNetHack).
21d0f2e4a Handle AD_LUCK in dogaze.
994330b11 Fix: acid worm color.
cc18bac25 Fix odds of monsters getting wands of corrosion.
061c2ffa1 Revert "Shapeshifters explode when dying with AT_BOOM attack."
867da458f Shapeshifters explode when dying with AT_BOOM attack.
aa9e843f5 Fix: missing new monsters not handled in make_corpse.
242665daf Fix: chameleons were not changing shape as intended.
46a369d87 Shapeshifters polyd into exploders can revive after exploding.
5c5135287 Allow dungeon features to generate in the Oracle level.
21c9b4564 Ported monstrous spiders from SpliceHack - with buffs.
7d94365d8 Weresnakes are red.
e8c9d9155 Cleanup monsters.h; remove extra comments, trailing spaces.
8a8db23cd Don't allow rebinding keys if the fuzzer is running.
658034c05 Revert "Increase default artifact to-hit penalty to -15."
c446a9008 Port weresnakes and werespiders from SLASH'EM.
5a47e65f4 Fix placement of asphynx.
571f8a98c King Arthur gets a full suite of resistances.
f1fb6b8d7 New monster: orb weaver.
0905aeefb Port pack rats from SLASH'EM.
2b1b3a71f Port barghest from SpliceHack.
53d1d8dcd Fix the order of some of the imp class monsters.
445494f67 Tiles for new i.
55f3d49ac Dretches leave clouds of poison gas like hezrou.
c6bf97446 Port dretch, rutterkin, and blood imp from SLASH'EM.
449c7c65c Ported ghoul queen from SLASH'EM.
3bd9dff60 Rot worms are tiny.
45eb121f8 Bloodworms drain life instead of draining strength.
3b63990f8 Tunnel worms get a armor rending attack and a butt attack.
f0f335099 Tunnel worms are huge.
de841ce30 Port 4 new worms from SLASH'EM.
8a2cc0e9f The ranger quests gets a bunch of bear traps.
2d380a90b New alternate level for moloch's temple.
692912ae8 Replace some of the gargoyles in mtemple with winged gargoyles.
4d09e7e23 Fix alignment of gargoyles in moloch's temple.
e1cf1cb34 Revert "Weak spellcasters get an extra, weak weapon attack."
b55a79fa9 Fix: Monster spellcasting was broken.
9c54d0c19 Long worms and purple worms have thick skin.
63f7d45f6 The Oracle level now appears from levels 8-11.
a1c63aa5e Demogorgon's lair has a 50% chance to appear.
f4351e689 Add gems to the Collecting Marbles soko level.
9dd00f500 New filler level before the first level of Sokoban - townfill from UnNetHack.
c54e7ce12 Fix soko flipping option.
a7bdf2805 Flavor Sokoban levels with more iron bars.
c09c60a44 All Sokoban levels are cold.
506771e54 Sokoban maps above puzzle #2 get 2 mimics.
43f0001df Revert "Don't get hurtled by ice-sliding in Sokoban. (I'm not *that* evil...)"
5a3ed62f5 Add white dragon statues to Soko.
1ea5fad78 Fix: Some entry soko levels didn't have pits listed.
9d6155b75 Sokoban now has 5 levels.
1ce768851 Add a bunch of new Soko levels; repair lua level listings.
9dc8e9a7e Minor stuff in soko files.
fd10e6764 New themed room: piercer room.
7e9593549 Redo how valkyries tame winter wolves and vampires tame familiars.
a5c30215f Move cerastes listing to it's correct group (with other snakes).
0c58a746a Cerastes gets 2 poison bites and poison res.
db24b9669 Increase duraction of invisibility from potions and wands.
f82542e46 Towels cannot be worn.
778b44f21 Potions of healing also cost 00.
6fad78b93 Fix: cerastes had base AC 15.
686dfdc6c Daggers and knives have a small chance to mulch.
9dd8f9dd2 Fake shop closed engravings.
1f15a262a Allow flipping most late/endgame levels.
d88bb6bf7 Fix: chests incorrectly marked as never trapped.
b4e7a4549 Misc cleanup in level files.
0c34b58e0 Add attribution and porting credits to level maps.
13d3d551f Couple more demon lairs are unphasable.
d66bbe601 Flatten and cleanup makefile level listings.
202a4e371 Fix: hardfloor tag typo in Rog-loca.lua.
05d3da74c Prevent null object access in hideunder.
0598aca6a Port the Pleasant Valley from Slethe as a VotD variant.
e6e05582d Ported Sanctum variant from UnNetHack/Lethe.
db7bd33ee Fix: mon hiding under nonexistent obj.
ea4236783 Add a shoggoth to juiblex's lev.
36b9ac38d Add some puddles to Juiblex's swamp.
22a27b737 Ported castle variation 3 from UnNetHack/EvilHack.
5186165c8 Port variation of castle from UnNetHack/EvilHack.
b4fb3686e Ported Cthulhu's sanctum from the Lethe Patch.
72af12114 Port Moloch's Sanctum version from UnNetHack.
0c62dcd26 New Baalzebub level variation.
a99935d6d Add lava to asmode-2; fix drawbridge.
fe4fedba0 Ported the Dispater level from the Lethe patch.
676f2ae93 Ported alternate Dispater level from GruntHack.
ce306a29d Ported alternate Demogorgon lair from Lethe patch.
a65e193c2 Ported Demogorgon alternate lair from GruntHack/EvilHack.
1424b2e62 Ported Yeenoghu level from Slethe.
f7431c0d9 Ported Yeenoghu's level variation from GruntHack.
943a86c2b Ported Geryon variation from GruntHack.
e3a2c4816 Ported Orcus Town variation from the Lethe patch.
82479baab Buff Cerberus attacks (xNetHack).
0037bc921 Comment for cerberus details.
1a03694c4 Monsters don't generate peaceful in the Lethe branch.
a7046be60 Fix: Killing Cerberus not logged correctly.
4de17e43e Ported spined devils from SLASH'EM.
77ab8172e Handle amulet of guarding in bounded_increase.
fc3ac6e43 Fix gnome royal.
9cf4f9d52 Fix kobold noble.
ee9075abc Correct lethe map alignment issues and tweaks lethe levels.
658b081ba Split leth-a into its two original variations from the SLethe patch.
453a56add Handout more wands of corrosion to monsters.
d619ede10 Allow skewering when monsters are visible via telepathy.
da8caafe9 Fix and refine how Serenity counters spells.
8850e66cb Guarantee effects when eating jewelery.
26b6ded4a Fix: Levitation boots still in leth-g
1dd21e542 Fix: Remove guideline added to leth-a.lua.
46dad2994 Fix: Hidden monsters were named and described as fleeing.
bb877d904 The castle gets a guaranteed forge.
bafff8374 Enable a couple more silver forging options.
d0363828e The Sceptre of Might gets a bonus on all monsters.
bb5f11818 Revert "Healers get sickness resistance instead of warning at level 15 (from EvilHack)."
691966a07 Adjust crowning intrinsics.
b06b9ff17 Fix: 3 wands of wishing generated in castle chest. Oops!
936ecc984 Fix: passive attacks for yellow jelly and orange jelly.
c55657eb2 Blackshroud is now chaotic.
099944c34 Shield of integrity and withering resistance.
c84324b4b Add shimmering dragons to healer quest.
71a1c4b5d Prevent the player from skipping most of the quest (from xNetHack). This is inspired by issue #123 on the xNetHack github that makes skipping parts of the quest harder if the nemesis hasn't been taken care of.
a764ce7ed Cartomancers get more cards from paper golem drops.
fd54460fe Rename Uevil_inherently to Uevil.
9776fb07c Fix: rocks called dice when monsters pickup/drop (cartomancer).
893a551d7 Fix: There is a grass here.
d86b71cae Misc cleanup in mon.c
62b4a0bfd Some random hallumon.
da980ac89 More fixes for mon hiding under nonexistent obj.
8c3f06448 Fix: dumb w->u replace error in monk quest.
d5c069b0b Monks starting spell compentency depends on the spellbook.
5471108d1 Ported jellies and blobs from SLASH'EM.
4d3ae7d9a Roles with spells always start with 100% retention (20000 turns).
5f4778ea8 Merge branch 'updates' into merges
14bf11cb6 Focus monk spell schools.
b085b485e Move castle level so it's right before lethe.
07a9c7f2e Fix: leth-a had some scrolls on top of trees.
e297ce602 Monks get a fully charged magic marker as a crowning gift.
8cd8f47ac Fix: Mirrorbright still hurt spellcasting.
5d4092af2 Add trees and two ponds to monk quest start.
6d7f40e76 Display a single accurate spellcasting retention percentage.
23b8ebb04 KEEN vs MAX_KNOW.
973399c61 Fix: Could splash through a puddle when flying/levitating.
5c5aa42c4 Raise level of praying mantis.
947933d8d More appropriate messages for talking to familiars.
dd87d5565 Ported bullet ants from SpliceHack.
406cb13d7 Ported rabbits from SLASH'EM.
34d83e9c3 Ported cerastes from SpliceHack.
266778830 Ported asphynx from SLASH'EM.
12d5c61df Ported nickelpede from SLASH'EM.
a565261d8 Port recluse spider from SLASH'EM.
5e48a5f8c More hidden monster unhiding.
88963f2fc Fix: missing parens in walking_on_water.
9e8e273d7 Merge branch 'updates' into merges
87163f595 Spell-beings don't count toward vanquished or special logged monsters.
f03fb9245 Unblock middle of triple rhombus room.
991f9a943 Throne sits can summon much larger audience.
58d83a750 Restore splicehack behavior for alchemists.
8e8cebaa4 Intro messages are scrawled in blood.
0807496c3 Merge branch 'updates' into merges
6571dcb16 Wishing for iron boots gives dwarvish boots.
b45ef3db1 Port puddles from EvilHack.
415d5991a Fix: flagged in_use obj for dropped scrolls disintegrating.
5048dbbca Iron boots are now dwarvish boots.
96ac35298 Fix: Bad return after is_migo check in rndmonst_adj. Fixes #66.
c0e1dc0fe Some small refactors.
28e053fe7 Handle hiders when altars crack.
b377bf8b8 Auto-ID potions of see inv and fruit juice by process of elimination.
ef9b9319f Possible null mwep check in mrndcurse().
92ffd775c Fix: disintegrated scrolls caused object lost.
d05019995 Lower bloody door slippage.
bf8c307d7 Increase carry capacity.
12d3b68bb Prevent rabid monsters from spawning in special rooms.
18669af15 Fix: mhitm spellcasting damage wasn't handled properly.
bbbcf01bb Fix: dipping scrolls didn't cause disintegration to useup the item(s).
7973eb601 Couple shield training tweaks.
49fb3b69d Slipping off bloody doors costs a turn.
c21437e5c Don't repeat grass burn messages.
49a0f974e Fix: pets receive appropriate retaliation when attacking spellcasters.
243049e74 Don't waste turns for failed engrave attempts.
0a4ea8926 No altars until after level 5.
3a41cc03e Revert "Lessen cartomancer card drops."
3ba234ff5 Bring back wand gen for cartomancers.
9f2a4edaa Fix: Extra whitespace added to bigrm-15.
50ab253ef Fix: Swimming underneath levitating monsters.
9818a6f58 Add grass to big rooms.
29badc114 Burned engravings also burn up grass.
51e74b8d7 Unify grass burning.
4ad7dfec2 You cannot dust engrave on grassy tiles.
6565c6840 Fix: Possible null uwep check in Sting_effects.
0e852e1e9 Bug fixes for hiding changes.
e7f0bb5c1 Fix: grass description missing from levltyp in cmd.c
5d6e3e652 Monsters can hide under grass and other dungeon furniture (from xNetHack).
4d6f91be6 Port grass updates from HackEM and SpliceHack. This includes the cellular automata grass generation from Splice.
17b9869a7 Initial port of grass (from xNetHack).
25dc8a26a Fire burns off blood from tiles.
18a9012a7 Remove staticfn declaraction of extra_pref.
a210294c7 Pets will use items more intelligently (EvilHack).
81e99c777 Amulets of guarding are now chargable with variable AC protection.
4bca4b1ee Allow vampires to tame familiars.
f04b2d77d Allow familiars to generate randomly.
f059e835c Fix: Familiars should not have poison resistance.
a63a0a8c7 Don't allow cloning zap cards of wishing.
8d6cdb73f Ensure cartomancers get 3 cards of wishing at the castle.
ecd24fcf0 All wands generated for cartomancers are converted into zap cards.
ef674bfc1 Stop using mksobj for pseudo wands.
07c530985 Merge branch 'updates' into merges
471dad61e Leather gloves provide 0AC (from NetHack Brass), bronze gauntlets provide 1AC.
a8443678b Gnomish mines fill levels sometimes have varied lighting.
8a056f11f Merfolk are nogen.
a62def1cf Foulstone hallucination message matches Oracle level.
4c9788648 Disable swimming room themed room for now.
cad3bc1fa Fix some wording for flying/levitating into traps.
e7726e7cb Fix: hero could smash boulders without worn gauntlets of force.
62121d07a Auto-id gauntlets of force after breaking iron bars.
8eecaf6f7 Fix: Hero could smash iron bars with wielded gauntlets of force.
6ffdd5318 Fix: Monsters could zap digging through altars and thrones.
006ef476c Reveal mimics hit by sleep rays.
ab080fba0 Fix: Sleeping mimics could still hold you.
b7782bc0e Be a little more liberal with shield training.
ee32e2672 Auto-id scroll of remove curse when read.
f6ef967e6 Rabid humanoids will growl when #chatted with.
f2ae3b9e2 Another intro message.
6f7b2312b Revert "Replaced levitation boots with flying boots."
f2d30e176 Revert "Fix: defunct levitation boots on Medusa's."
51c5e1951 Fix: Revenants were shooting cone of cold.
42d7b2a7f Spell beings should not hide.
39aa8c4db Fix: Nazgul spell beings spawned with Nazgul.
6ae5a87f2 Fix: Helm of opposite alignment always disintegrated after wearing.
19c22b5ea Reward unicorn horn usage more.
3d89cd370 Cartomancers don't get card drops while polymorphed.
e3b8ffcc2 Tweak cartomancer energy growth.
113b96d21 Cards cost 10 to play.
ce3ec51bd Lessen cartomancer card drops.
b399942c5 Serenity also blocks barbarian blood rage.
e7cc5ff14 Serenity and anti-magic shields also counter peaceful spellcasters.
680f13a4a Bloody doors are also difficult to close.
c021e01df Fix: Autotravel with > doesn't work when levitating. Closes #61.
284a145dc Fix gray mapping issue in arch-vile tile.
64a55a098 Revert "Fix gray mapping issue."
37d7c5aaa Fix gray mapping issue.
819d8742a Fix tile listings for oilskin helm and wand of identify.
2b06fec0d Revert "Allow changing command autocompletions via #optionsfull"
02aba4851 Update windows zip output.
d49fe87d9 Update github actions checkout to v4.
36b9c33ca Fix: m_lined_up defined as static.
08fac50bc Monster spellcasters can cast vs other monsters (from EvilHack).
04d1d764d At level 15, cartomancers also know the BUC status of all cards.
699df9f87 Lower cartomancer minimum starting energy to 5.
ab8b6a5b0 Allow scrolls of amnesia to blank stacks of potions.
ea5d22dd2 Cockatrices and chickatrices can fly.
a9ea985dd Arrow traps and dart traps cannot be avoided by flight.
819a1dc7b Fix: Random weapon enchantments could go over 13.
c66f8ed3a Peaceful fell beasts/black dragons/trex will not shriek or roar.
e55484cb5 Revert "If a monster that could berserk becomes rabid, it also goes berserk."
d562be85c Prevent peaceful/tame alchemists from creating acid.
f096e4ba0 Prevent monsters from constantly spamming protection.
22c07857e Cartomancers start with a backpack (sack).
b876c29f6 Zap cards now only cost 5 energy to play.
6fc66623b Playing summon cards only costs 5 energy.
8d0d03a6c Fix: lingering issues with broken potions of monster/object detection.
b1e5de946 Merge branch 'wand_identify' into dev
55d1911f9 Fix: Double 'You stop withering.' on #pray.
7b3979b0b Don't calculate monster on monster flanks when fuzzing.
9cc6240ed Revert chickenrat.
19a363d94 Bump cartomancer razor cards to +2 (again).
d46ee69c3 Fix: Potential rabid peaceful prisoner.
3879d6b09 Fix: calm_berserker didn't actually remove berserking from a monster...
f8e1ee083 Merge branch 'updates' into merges
35113967d Wizards never receive magic missile in their starting inventory.
6a3b5c630 Revert "Wizards always start with the spellbook of magic missile."
0e74c0d0f Lower chances of rings exploding during charging (SporkHack)
ebee25587 Buff riders HP (from EvilHack).
b90064568 Fix static declaration of Armor_on.
c307cc043 White dragon scale mail confers water walking (from EvilHack).
04913bdc5 Protection from shape changers wakes up shifters when they normalize.
a887b2fe0 Red dragon scale mail increases damage with enchantment.
2888d058d New item: Oilskin helm.
ab5d73d47 New item: Bronze gauntlets. Conveys 2AC.
c2f21af91 Port wand of identify (from SlashTHEM).
060f8536b Ported the fire helmet (from SlashTHEM).
7ae91e313 Move Moloch's Temple a little earlier.
81106acff Fix altar cracking probabilities in lethe levels.
a397677d6 Fix: Up stair missing from leth-a.
8ba695881 Lengthen main dungeon to a base of 40 levels.
43e8cac81 Rings of free action offer protection from grabbing attacks (from SLASH'EM).
7a3cdfe29 Medusa gets a stoning bite (from EvilHack).
7138ff616 Another intro quote.
a75b97b38 If a monster that could berserk becomes rabid, it also goes berserk.
b60a22525 Buff fell beasts.
13914c1df Fix: Getting slimed after burning up a green slime with Fire Brand.
b8b4e076f Mark the castle as hardfloor.
f481e604b Tone down some of the nasty monsters in the Lethe branch.
ab2114f06 Stethoscopes don't work on undead or nonliving monsters.
e2b9d3c91 Dipping scrolls of amnesia clears non-water non-polymorph potions.
a44cb222d Polymorphing into a horned monster destroys flimsy or cloth helms.
68312b8cb Another intro message.
aa053d177 Fix a typo in flail special effect.
1655070f2 Replace all Gulf of N'Kai water with lava.
4781dfb3f Anti-magic fields also block monsters from casting spells.
710bf93d4 Fix: Queen ant not being placed in anthole.
7550e350f Potions of vampire blood cost 00.
aa0aca92e Revert "Reduced artifact costs (from GnollHack)."
ce1466307 Fix potentially uninitialized otmp in counterspell().
b3be4f7f4 Fix: Bad item checks for counterspell().
16cc16527 Revert c4a458f94 Fix for breathing vapors of a potion of monster detection when there are no monsters on level.
b909ed83b Your god will not crown you until you have completed the quest.
4be06d9a9 Permanent alignment conversion prevents more divine protection
1a9ff31ed Macro for permanent alignment conversion.
896ed1feb Crowning makes it impossible to change alignment ever again.
460d74c91 Casting the spell of clairvoyance at skilled lets it persist for a while.
10b91e3b1 Limit object lookup while hallucinating.
6b63c36ec Fix: Level 1 Spellbook., in object lookup.
68dbb5619 The Lethe levels can have up to 4 altars generate.
a49ad5393 Altars only generate in the main dungeon starting at level 10.
2b553fee6 Nerf slow digestion.
a9ce809b7 Gas spores and volatile mushrooms start with exactly 1 HP.
170c60410 Confused cursed scroll of punishment decreases god anger by 1.
1c8377153 Spellbooks can generate pre-read.
7800ffd44 You cannot learn spells that you are restricted in.
ed6cd6a42 Recolor royal jelly to magenta (EvilHack/xNetHack).
b01187e1c Fix for adding potions of mon/obj detection to potion breathe effects.
c4a458f94 Fix for breathing vapors of a potion of monster detection when there are no monsters on level.
4ff75af9b Tweak chameleon form-keeping slightly.
8d841e916 Don't generate coutl invisible if they are peaceful.
2eb33f9ca Typo: You are jabbed by its spikess.
0080e472c Fix: migos could still be generated outside Lethe.
7488d8956 Bloody doors are more difficult to open.
ff3ff947d Spear traps sometimes have poisoned spears.
080a4531c Spear traps abuse strength and constitution.
dd8abaa4d Fix: Finish moving define for primary_spellcasters.
91608f855 Energy regen is slower on Lethe levels.
6c970ab34 Fix message: 'Him gold vanishes.'
87a2d5938 Archeologists count as primary spellcasters.
86f1f70f9 Only primary spellcasters can receive divine spellbook gifts.
4af7b35d2 Gray dragon scales can always be enchanted into scale mail.
40f1c3fac Sync up Serenity and anti-magic shields.
f5a6b69d9 Lots of anti-magic fields on Lethe levels.
96c2750f6 Fix: dipping hands into forge was not handled correctly.
b68bae843 Fix: Peaceful clerics could cast fire pillar at us.
2a5743c9d Anti-magic fields also block wand zaps.
912e4d7f5 Anti-magic fields block spellcasting.
f9bd4b962 Fix: Phase spiders could spin webs in solid wall, trees, and other strange places.
7c103467b Auto-id wands of poison gas when engraved.
3f5bfd26e Fix: Scroll of cloning wasn't auto-identifying for muse read.
98276d774 Fix: Scroll of fire wasn't auto-identifying for muse read.
2d716cf9e Fix: Muse scroll of fire didn't use up the scroll.
a379a15a7 One last fix for hidden ambushers.
79c9b1341 Restrict and fine tune how hidden piercers can ambush.
87842bdd6 Fix: Berserkers could re-berserk when caught in a trap.
224ec1677 Object lookup showing weight twice.
bbcd0f942 Fix: Displaced shopkeepers were angered.
f7fc19d6d Fix: Adjacent hider bugs with pets.
3bcd3c288 Fix: Extra comma in spellbook lookup.
e0d11e295 Vampires are not afraid of cracked altars.
f48bd1557 Vampires are not afraid of Molochian altars.
31de266d8 Fix: unused variable helmet in muse.c
b0e15e3c5 Deep courtrooms can be filled with vampires (from dNetHack).
ec212fa93 Change crossed X of water room to lava.
6999761b5 Fix: Vampires vs wands of death.
9f519c3e1 Fix a couple things with hiders popping out from adjacent squares.
1202e2066 Hidden piercers and other hidden monsters can surprise attack you from adjacent squares.
a06f94aa6 Increase limit of erinys to 13.
a1cc60b87 Auto-id potions of monster detection when quaffed.
6e8c1a6f7 Temper the strength bonus for slinging slightly.
b9381d532 Increase default artifact to-hit penalty to -15.
79e0d404f Macro for artifact to-hit penalties.
512feb258 Barbed devils get a passive barb attack.
dd90a3c27 Giant mimics get an engulf digest attack.
22bb290ee Mimics take the form of strange objects much less often.
383e0c69a Tweak barbarian blood rage a bit.
a0607ae16 Fix: Gnomish wizards could cast entomb spell when fleeing.
33cc6996c Even MORE cracked altars!
e59cecba3 Enable specifying cracked altars in LUA levels.
6eabe39ad Fix: Align mini-maze to center.
99c32cd7b Disable a couple themed rooms that were causing item placement issues.
eddb114db Disable swimming pool.
e13933dda Fix: grass in a themed room; various cleanup of themerms.lua.
13607b77b gm.moves -> svm.moves.
4614fe2cb Port remaining themed rooms from xNetHack which use mon_difficulty.
f0abd1820 Fix: Possible rabid pet on turn 1.
3a3a024e5 Port more new themed rooms from xNetHack.
29bcb9c82 Fill in missing new traps for trapped theme rooms.
0350ee9d8 Ported kitchen themed room from SpliceHack.
6004efd7a Re-port the cartomancer quest dialogue.
7dcf0df5c Only monks get bonus chain lightning for Thunderfists.
a00fa36c3 Forges burn the poison off dipped items.
1393dbd9e The beginner flag is only set true for tourists.
452ee00e8 Refix: Thunderfists double kill on chain lightning.
76f4c672a Allow wishing for Thunderfists.
e8549abde Fix: m_detach: mon already detached for Thunderfists chain lightning.
f8b44f035 Adjust cartomancer rarity ID to actually reflect probability.
0e9a18975 Revert - 48b51b332 Archeologists get built-in price identification.
c9e82a8d3 Kill price identification.
1addaca84 Shopkeepers resist sleep and poison.
e2d94b3e4 Buff shopkeepers (from SLASH'EM).
0d17d2820 Disable saving grace.
1a69e0ed1 Forges burn the grease off dipped items.
fc9d7fd2f Fix: throwing projectiles at yourself triggered extra hitfloor message.
d2c55bac0 Cursed projectiles can hit yourself (from EvilHack).
74e254b49 Your clones inherit rabid and sick statuses.
79ac46fc4 Fix: Monster lookup wasn't working correctly with named ghosts.
ef63c5a5d Nazgul buffs (EvilHack + new ones).
22e3ccc60 Ported fell beasts from EvilHack.
b4d356002 Lower cartomancers starting razor card deck to 40 cards.
90c0ff5d9 Cartomancers can use slings and boomerangs.
45e490341 Silver item conversions happen after level difficulty 8 (for vampires).
3837848ab Vampires can only tame/pacify familiars.
14d09737e Starting vampires get a familiar instead of a standard pet.
275a75f67 Fix: Silver items not converting vs vampires.
deba8e6fc Allow blood potions to generate randomly for vampires.
01fa6425d We cannot assist flanking while standing on Elbereth.
c118c1640 Lower cartomancer's starting cards to +1.
3048e3447 Fix: Cartomancers could not read the Book of the Dead.
a9481a139 Don't mark the nkai levels as lethe.
d4c3ad892 Actually put the vibrating square on the last nkai level.
cd23d12ea Merge branch 'updates' into merges
757b2ab28 Lethe levels make you burn more nutrition than normal.
38a3d9366 Lethe levels make spellcasting a little more difficult.
6fb3a5afd Port the Bridge of Khazad-Dum as a welcome room to hell.
aeb2e12de Extend the main dungeon a little more to accomodate lethe.
47bff3085 Port Cerberus from EvilHack.
a180f7702 Branchport also causes telepain in Gehennom.
7338f1066 Cut way down on items guaranteed on lethe levels.
00c47d0ab Cut down on premium items on lethe levels.
7f1f1522b Add another big level in the latter half of the main dungeon.
6967fe1b1 Incorporate Gulf of Nkai.
487728b7b Add cold traps to Asmodeus' levels.
d9cc44d22 Cartomancers don't get card drops in Lethe levels.
351ffe130 Most demon lairs are phaseproof.
518c87ed4 Mark the Asmodeus levels as cold; remove hardfloor flag from Splice version.
7fa96b4d1 One cannot write effectively in the lethe levels.
4028d9827 Spellcasters don't get a memory boost for spells on lethe levels.
6a6d515c2 Port migos and migo hives from SLASH'EM.
4393d2ea5 Fix queen ant tile.
fe0eb8542 Add missing fungus farms to lethe-d-2.
07532d4ea Ported fungus farms (from SLASH'EM).
11af104c7 Add a few more mean ogres to the Ogre Stockade.
fa6328f36 Mark the castle as lethe.
1b1b4439a Lethe levels are very suppressive of hero gains.
c1f097cd7 Create lethe level flag and apply to all lethe levels.
6e53b19d7 Add more traps to lethe levels.
07c11bdec All lethe levels are undiggable.
46ab84294 Move castle to third level of lethe, re-jigger how VotD is entered.
69e143977 Misc cleanup in the lethe files.
30ddb17ed Less random ; in Lethe levels. This seemed to mostly result in merfolk, which is not really what I think the original lethe patch was going for. I replaced most of the random ; with eels and jellyfish instead.
3bcfcfbc5 Initial port of Lethe Patch levels.
491f8c835 Fix missing \ in Windows makefile.
44d6db2cb Geryon, Dispater, Mephisto, and Yeenoghu are coin flips. Demogorgon's lair is guaranteed.
97dc913c8 Add gnoll to make_corpse list.
4ca09eef8 Ported Geryon's lair from SLASH'EM.
b07f4b998 Ported Yeenoghu's lair from SLASH'EM.
d002dfd38 Add some grease traps to Demogorgon's lair.
7a33622a5 Revert - 9530d5123 Summon demon lords/princes when you possess the Amulet of Yendor.
f8aaf9c67 Fix alignment on Demogorgon's lair.
977611027 Ported Dispater's lair (from SLASH'EM).
338091eac Ported Demogorgon's Lair from SLASH'EM.
f5a5eba5b Alternate level for Asmodeus' lair (from SpliceHack).
dbcbf8a29 Alternate level for Baalzebub's lair (from SpliceHack).
08caf8219 Add a lair for Mephistopholes (from SpliceHack).
17d8b75b8 Restore the demon lairs and original length of gehennom.
a69752aa9 Merge branch 'updates' into merges
6b378ecf6 Fix: static declaration of cast_chain_lightning.
1d0281507 Fix null uwep check in enchant weapon effects.
f3c43991c New artifact gloves: Thunderfists.
f95fb9aa3 Archeologist - don't show prices for named/called items.
b3944f83e Silence some unused variables in domove_core.
2d86dce58 Silver dragon scales are actually coated in silver.
92cbb4b25 Cleanup silver material checks, use is_silver instead.
8932d0739 Fill in some missing artifact invoke info for object lookup.
e2d4d0c94 Fix: #wizcrown cracked non-existent altars.
6369aab2b Anti-magical items resist being enchanted (from SpliceHack).
8d93bedd9 Halu reverse geno troll msg (from UnNetHack).
899833966 Funny troll #chat messages (from SpliceHack, I think).
b6daea59a Spiked orcs cannot wear armor, cloaks, etc.
77c66b3bd Properly implement silver use pain for V.
030c2bef5 Add arch vile to mon.c make_corpse list.
4ee4ea2e1 Revert "Crystal balls only weigh 100 aum."
0dd7a5327 Upgrade cartomancers starting razor cards.
36520a4c5 New monster: arch-vile (from DOOM).
e03ac9fb5 New monster: spiked orc.
c83e51010 Port passive spike attacks and hedgehogs (from SpliceHack).
7bf8dfe83 Scale up levels and difficulties of bigger mimics a little.
ccb82dfc0 Ported killer mimics from SpliceHack.
778944af0 Port queen bee from EvilHack.
e8adea864 Add some deepest ones to the plane of water.
63bbcef8b Disable paranoid confirm for walking into vapor/clouds.
01b2b97c4 Pit trap just outside of wizard's zoo.
387ee8865 Teleport pain also stuns.
c76041af6 Limit Serenity countering message spam a bit.
ffc5053db Lower difficulty of deepest ones a bit.
03258b69b Lessen probability minotaurs get wands of digging.
9382b3d50 Fix: Thrown potion of paralysis ignored free action.
e87b0744c Speed up nurse dancing.
f04638d97 Fix: Messed up stormbringer check from c7e7e1a34.
bf3c0d95d Fix: Received message for ineffective digging when mon not visible.
96ec39b3b Remove reflection message when blind.
261b13452 Serenity doesn't to see the caster to cancel the spell.
3af8ceeae Fix message for Serenity countering a spell.
35fdfbbcc Revenants use physical melee attack up close instead of fire spell.
650441513 Nurses cannot flank or assist flanking.
af788b689 Moloch's temple is undiggable.
857217371 Revert "Lost tomb: No containers within containers."
d1f155fdc Revert "Prevent containers within containers in Moloch's Temple chests."
aa859481a LUA level creation: prevent boxes from generating within boxes.
c7e7e1a34 Cleanup offhand artifact intrinsics and effects.
cf43959c6 Update windows build permission.
0e65a5630 Fix: Paranoid trap confirm when displaced onto a trap.
a1bcb509a Hobble spell should deal some damage.
fcfb05dc7 Fix: Free attacks vs displaced monsters from doorway.
42ae06f1b Disable Werror for now.
d1c8eb240 Silence localtime warning.
b82659917 Don't redefine DUMPHTML.
6c6a726fa Stricter compile warning checks, copied from xnh.
64d443c89 Exchange Keolewa for Skullcrusher.
73b3015de Corpses going moldy diminishes as the dungeon gets deeper.
00ba76152 Thrones can grant knowledge of magical items.
416341aa1 Revert "Wands generate with 4 more charges than they normally get in Vanilla (SLASH'EM)."
dcb7a2279 Buff Load Brand.
e2934150b Minotaurs can berserk.
0ae6b308e Fix: rnd(0) attempted in unpoly_monster.
0e7d62c78 Sokoban prizes are always erodeproofed.
ac4e3480b Fix potential fall_asleep for 0 turns, causing strange wake up messages.
dbbbb279f Cancelled shapeshifters cannot change form.
a49ac5ba7 Shapeshifters unpoly with 50-75% HP.
f5d5535cb Fix: Monsters would not shoot more rays after witnessing one reflect.
fe5f8342b Don't repeat falling rock messages.
86f5d9d80 Mind flayers only stun if the target has telepathy.
e43ab3252 Increase probability of boomerangs.
c20f823fa Revert "Allow wiz_clear during fuzzer."
773c3e062 Mark quest levels as hot if they feature lava.
8558e16fb You cannot fly over falling rock traps.
c9347f276 Fix: falling rock traps were broken from previous mods.
cde1edf7b Allow wiz_clear during fuzzer.
da885a7c4 Fix long lines in artilist.h.
2dcf0365f Normalize crowning gift to-hit penalties.
a4a22d42c Remove unused variable and math import.
fe72a671d Rejigger healthstones (for the better).
e6af9da9d Fix: Forgot to enable foulstone check.
3d3fbf835 The Castle wand always has 3 potential wishes.
f6738ca21 Wands of wishing don't generate randomly.
d13a898f2 Post-invocation, monsters flood the stairs - but only in Gehennom.
281ffff37 Revert "All ghost class monsters have displacement."
01f0e7350 Missing genericptr_t cast in scroll of water.
e132fd410 All crowning artifact weapons get -15 to-hit.
eb2c21be5 Fix: weight/cost not displaying in object lookup.
14f4264d1 Redcaps get either a ranged sling or melee weapon, not both.
e4c8852ec Suppress damage messages for some zap effects on monster's turns.
367cf08b6 Orcs can now follow and stalk the player.
4ed46eaef Tweak flanking bonuses - lower hero's flanking advantage.
c43237ac8 Fix: Messages for passive mold skewer.
b583a3de8 Revert "Mjollnir and Stormbringer are also no gen artifacts now."
b578e6404 Display prob in object lookups.
3ff39fa3f Fix: signed/unsigned mismatch in potion_dip.
9baa3cbb3 Fix: suspicious concatenation of string literals
014832e2a Refactor foulstone handling so multiple foulstones are processed properly.
924fd2e46 Update README.
6eaa5056c Port ring of carrying from xNetHack - bonus +10% per enchantment.
443a6525d Valkyries can tame winter wolves and cubs.
4b5d17b9a Revert "Revert "Valkyries get a winter wolf cub as a starting pet.""
c2214f7c4 Remove appearance info from object lookup - currently leaks info.
619c649ce Stomping actively wakes up monsters.
248262520 Flesh out object lookup info for artifacts.
2e04ffcab Fix: Hiking boots gave inappropriate message after landmine made pit.
ae55aaea8 Only one ghost in Lavender Town.
53acdcfb7 Stationary monsters cannot flank.
5d8cc05fa Suggest crystal balls to cartomancers when wielding.
ade42b0b6 Fix: worn armor weight not handled correctly when BUC changes.
99922cc0a Mjollnir and Stormbringer are also no gen artifacts now.
b8d421bb5 Fix: Intrinsics from wielded artifact/crystal ball could remain after stolen.
a039a6042 Add another fountain to Lavender Town.
1f52ae276 Lock all doors in Soko.
14518737f Weak spellcasters get an extra, weak weapon attack.
65cb4bf4f Fix destroying clay golems with cancellation (again).
988d1df7c Rabid koalas cannot calm other monsters.
d8f53df9d Berserkers can be calmed by koalas or scrolls of taming.
2369aade9 Oilskin cloaks let you slip effortlessly out of web traps.
192a4ef6f Towel gets greased much less often when cleaning.
1d8f8a871 Fix: Clay golems could resist cancellation.
bcfd974c0 Fix message for thrown summon card explosions.
6a116b681 Cartomancers can read rulebooks when blind.
73719989b Gas spore and volatile mushroom summon cards explode on contact.
93f704009 Prevent familiars from spawning rabid.
a2187dff0 Message for cheating in Sokoban.
f18aa2601 Sokoban guilt for phasing through iron bars.
ef38bb8b3 Cartomancer minion cards don't count as gifts; tweak prob.
4e015b9ac Refactor the restrictions on spell-beings; fix some troublesome summons.
3075ecc3f Cartomancers can receive summon cards when offering corpses.
6c3140309 Nasty monsters drop their own cards.
9252efc92 Unique monsters can drop cards for cartomancers.
9630241e0 Kops cannot drop cards.
66d04d4a1 Fix: Some monsters were unable to drop cards.
a6d18ad93 Prevent SIGSEGV in pick_familiar_pm.
21f69de22 Fix: Card shop check in mkroom.c
bb4c49019 Name the white dragon in Soko and make it wait for the hero.
2ffa879f1 Prevent duplicate rot timer on moldy corpses.
a975b4f21 Cartomancer: Prevent tame lights from confused ?oLight reading.
aab593364 Fix: Cartomancers could create tame monsters via cloning.
46f56a70e Cartomancers get summon cards for cloning themselves.
e7c44de51 Add sanity check for cartomancer permapets.
fa8d8378c Specialty card shops for cartomancers.
d72741069 Cartomancers get an archon card instead of a guardian angel on Astral.
9f4670763 Remove riding skill from cartomancers (final).
69459a0d6 Spell beings have a sparkling description on farlook (so you can tell them from permanent monsters).
5c12ede5e Summon cards are much more common for cartomancers.
ac0d0e4cc Create familiar just creates summon cards for cartomancers.
95b1a4034 For cartomancers, figurines instead generate as summon cards.
258b339f5 Fix: Pets wouldn't attack cancelled exploders.
fe8c07a2f Cancelled monsters cannot drop cards.
31cebeefa Allow zombies and trolls to drop cards.
779a55ed9 Allow tame killed monsters to leave card drops.
f01b9779d Officially make tourist a Jack of all trades role.
3c3e08700 Priests have to be able to reach expert in hammer (crowning gift).
edc7d6713 Fix: Cold trap could leave mon with higher hp than maxhp.
fa70ca4be Fix: mon dying from disease and withering could cause m_detach impossible.
5c2d6591f All ghost class monsters have displacement.
bbb73829d Show But Wait... only if shapeshifter survives.
458d2cea0 Fix: cancelled stinking spheres still exploded.
9a60d2f3a Revert 7deff7651 Gas spores leave a poison gas cloud.
b3b332b42 Fix: Playing a magic horn with no charges made tooled horn known.
351b0ae6f Fix some general object lookup stuff and some cartomancer specific things.
c75a144e6 Forges are always lit.
eb1a4e9b1 Fix some setupmax() calls that differ from upstream.
2ce7e9efe Merge branch 'updates' into merges
c2fb5354e Cartomancers get speed at XP 15.
83db93cc8 Starting razor card tweaks for carto; they start with +1 Luck.
2fd1eebfa Fix: Unicorns could leave a card instead of a unicorn for cartomancers.
7d635e9ef Further focus cartomancer skills.
c3f8c41db Tweak the card drop frequency; more generous in the early/mid-game
1a6bfcbec Revert "Instead of 'corrodeproof', say 'fixed'. It's half the length and inventory real-estate is expensive."
7c3707a9b Fix: Paper golems were not dropping extra cards for cartomancers.
a96b3dc60 Allow pets to flank when attacking together.
4f49459e2 Revert "Valkyries get a winter wolf cub as a starting pet."
dd5f4883a Fix: Charm monster not handled in bhito.
437fa291f Fix: skill typo.
2348d0388 Couple priest skill tweaks.
9f6e8a159 Narrow rogue skills a bit.
1d4b96256 Narrow ranger skills more.
0de8aecc1 Fix: hidden mimics could still assist flanks.
a7c335b2d Revert "Reduce probability of enchant weapon scrolls, increase prob of scrolls of knowledge."
811f46636 Revert "Scroll shops cannot be big rooms."
07963817a Enable orcish cartomancer.
af13561ac Enable wishing for razor cards.
a9905a500 Fix: Object lookup was leaking lots of free info.
90f806873 Koalas cannot calm rabid or berserking monsters.
9ae23a033 Fix declaration of do_earthquake.
a9596b3b2 Koala database entry.
d7dd0e6c2 Merge branch 'updates' into merges
cdd2751d4 Spellbooks of blank paper don't get any initialization charges (for cartomancers).
445bbdf97 Let rangers chop down the trees in the quest entry level.
f883f3006 Show if monsters are reflecting and if pets have stun/conf/blind.
2f264dff0 Fix: greeting messages were missing commas.
ddc1e6c0b Spell of fire bolt (from HackEM).
a46cab719 Ported koalas from SLASH'EM using SpliceHack's implementation.
99085deaa Remove theft from merfolk. I think this is one of the cheesier monster gotchas in nethack variants, so we're going to take it out.
909565dc2 Nerf dagger and knife skills for cartomancer.
75adb3fd9 Fix ha-naga listing in cartomancer quest.
552741177 Fix some things with art room knowledge.
148b0f73c Possible fix to rabid peaceful mon.
8ba2532fd Art rooms can reveal info about unknown items.
e8baf4d73 Tree destruction.
fb9ef041d Decks of cards can be tipped and emptied for razor cards.
f241bda33 Air elementals get shock resistance.
338efd6ce Revenants have fire resistance.
f3437d729 Fix some spacing issues in cartomancer quest text.
f84a38623 Add a few more corpse effects to pokedex.
c3ec4f9cb Cartomancers start with 7 summon raven cards. This is sort of my homage to the idea of giving cartomancers a pet raven. Since it will never happen (cartomancers should and will never receive proper pets), they can have this ominous starting hand as a reminder of what can never be.
168c420d3 Increase adherer AC.
765f8aa81 Razor cards are iron (again).
31cda59c8 Cartomancers only get strength damage bonuses for razor cards.
27f13fc28 Cartomancers can only multishot shuriken skill projectiles.
bc9dc2e57 Ensure cartomancers can cast cards at level 1.
6efc2bd9a Cartomancers start with 7 summon cards - no regular scrolls.
a5d38c99b Nurses can also cure rabid status.
8d859fae1 Nurses won't heal you if you are undead.
598327db7 Adjust cartomancer energy growth.
37c5ddbd0 Playing zap cards also costs 10 energy.
24ec53947 Playing cards costs energy for the cartomancer.
d553a5588 Cartomancer quest start re-design.
b053a3f68 Don't flip the Lost Tomb level.
8a9254dd3 Redesign of cartomancer goal level.
fa422e673 Random chance of ha nagas vs assassin bugs in cartomancer quest.
51ff6b932 Fix: Potions of water could generate diluted.
3ebd19594 Cartomancer card drops can include random NOGEN monsters.
1203f7e58 Refactor summon card generation for Dal Zethire and mplayer cartomancers.
58f984b69 Buff Dal Zethire.
42a369ba1 Totally remove wands from cartomancers random items.
9d3bf38ea Remove extra multishot for cartomancers reaching master in shuriken.
4cd7587af Fix: 4 guardian nagas embedded in wall in cartomancer locate level.
50b59f0e9 Remove searching from Lenses of Truth.
f53e498db Fix some artifact lookup info.
e5a718a07 Base to-hit penalty for cartomancers.
d65f5a26d Revert "Feedback messages for unicorn horn timeout reduction."
642ffc004 Fix issue with scroll of flood around doors.
9d9ed5a42 Plastic wands can neither be broken (via apply) nor exploded by shock damage.
79525bc14 Fix: phoenix spell beings could leave an egg.
8c60ac741 Allow wishing for spell beings.
f43b4b0f7 Feedback messages for unicorn horn timeout reduction.
7bc8f909f Double down on cartomancers weakness in melee combat.
2cbc8c798 All mummies get an additional point of AC to compensate for their ragged wrappings.
1557e31b8 Adjust cartomancer mkobj probs.
e97c5fca3 Magic beam traps don't appear until level 15.
5ac8876c4 Cursed sphere cards will not explode on contact.
0d98cb9b0 Fix: berserkers could see invisible and approach regardless.
3ed6572b1 Fix a couple things in artifact role/race info.
1fd8ca03d Fix and redefine can_become_rabid.
198cd6a62 Fix genocide on level message.
b95c642a7 Less fungus on fungus.
ffd53606b Fix: Exploding monsters were calling unpoly_monster twice.
d1a5f9be2 Fix: Shapechangers in base form were not polying frequently.
3a0add1b2 Fix: Mistake in Giant Slayer strength granting.
ed8d34cd1 Crystal balls only weigh 100 aum.
a3eca7476 Cartomancers get special bonuses for wielding crystal balls.
666b7ad14 Disenchanter attacks can also remove erodeproofing from items.
e6d51894b Getting troubles fixed by prayer abuses constitution.
c8654803f Clean up artifact to-hit penalties.
10a9b2eb5 Blunt cartomancers melee weapon capabilities.
338a08af2 Scroll shops cannot be big rooms.
89eb56d80 Reduce probability of enchant weapon scrolls, increase prob of scrolls of knowledge.
bf2c85b76 Fix: Diseased monsters were not properly dying from their disease.
0090c9e8e Cartomancer skill nerfs.
674194e1b Port F growing on old corpses from SLASH'EM (from xNetHack).
0efa28ddb Revert "Molds can appear in large groups."
354ab4417 Auto-ID +0 rings of protection.
710a2f89b Molds can appear in large groups.
9a1f87857 Revert "Molds have a reduced chance of granting intrinsics."
05f57e9d3 Revert "Molds can propagate passively when attacked."
b01d24212 Revert "Reduce chances of fungus multiplying."
72705ff85 Zap cards of cancellation also blow up bags of holding.
f5bd4a1e9 Potion of restore ability costs 250.
d3e1a896e Fix: Cartomancers could still cast spell from cursed rulebook.
a9491d835 Don't color bloody fountains red - confusing with forges.
15956b46b Adjust some art room descriptions.
fae9406c4 Messages for spell beings disappearing when not seen.
7ff2be4f3 Adjust how unihorn skill is exercised when applying.
94163c883 Fix some info displayed between farlook and stethoscope use.
b316d654d Fix: #monster issues when polyd into a unicorn.
991f24f78 More unicorn horn tweaks; back to vanilla success rates.
b47c0530e Fix: Cartomancer not casting expert light.
aaaa1b59b Fix: bhito and drain life.
df94aced0 Update github workflows.
374b4075a Mind flayer blasts do more damage and can stun the player.
cd61c7980 Don't let cleric stunning reset stun counter to 1 when stunned.
865bb5c20 Show wizmode timeouts for sick, rabid, withering.
e1d625473 Unicorn horns will dissolve when dipped into acid, resulting in a potion of healing.
eb42a3289 More generous with unihorn timeout.
a64d168aa Unicorn horns cannot cure Rabid status - new cures in it's place.
6d15685cf Unicorn horns reduce the timeouts of most statuses instead of outright curing.
7683a8f7d Add wizmode timeouts for stun, conf, blind, deaf to enlightenment screen.
ac5553bab Cartomancers can reach expert in quarterstaff, skilled in bare-handed combat.
72d5cd367 Cartomancers can reach master in shuriken skill.
2e55dc049 Fix: Cartomancer create monster card merged incorrectly.
2a119a860 Don't show rulebook charges for cartomancers.
ff49e0990 Fix messages when monsters playing summon cards.
dd7a68300 Fix: Cartomancers reading plain cards of create monster created spell beings.
fef93fb63 Differentiate between cards of create monster and summon cards.
b6ba8d6d5 Fix: Monsters reading scrolls of create monster always generated spell beings (for cartomancers).
d1d10cc89 Increase cards cartomancer can cast with combo ability.
cb1ae41c2 Tame spiders should not spin webs.
0f2853723 Remove unnecessary hit messages for rabid attacks.
52084bb90 Prevent insects, birds, and lizards from becoming rabid.
5267cf94c Spellbook of drain life is now a ray based spell.
aa0d8b7da Rogue's gloves always have the fingerless appearance.
2ae54d8f5 Reduce frequency of maggots.
271520801 Cartomancer quest artifact overhaul.
d6e25542b Update github workflow to trigger on master branch.
b5372159f Prevent containers within containers in Moloch's Temple chests.
e513499ba Monsters will use potions of reflection much more intelligently.
f1c2cd3a6 Cartomancers don't break illiterate conduct when playing/reading cards.
87834ad66 Add a couple safety asserts for cold trap affecting mon max hp.
2a7313574 Fix: Cartomancer card and rulebook weights not set correctly.
fea835386 Rulebooks weigh 5 for Cartomancers.
c65f494d3 Fix: All scrolls weighed 1 aum.
55734ef50 Auto-ID potions of booze when quaffed.
d0691a513 Fix non-rabid chickenrats.
33414e0af Unicorn horns cannot be poisoned.
d1d8ee7f5 Fix cartomancer combo available message.
8e9be8a34 Fix pokedex lookup for rabid monsters.
21840cad9 Fix: Rabid monsters were not correctly labeled as rabid in messages.
b5992b962 Fix how rabid attacks are processed.
f515a81e4 Lower odds of werefoo summoning rabids.
9ca12ff38 Fix: Elven cartomancers should not get enchantment spell ability.
c27316a60 Fix: Card drops prevented monsters from exploding on death.
b679d2d26 Handle zapping charm monster at self.
8d03a1736 Add currencies from Rick & Morty.
5ee5fbd00 Revert "Remove riding skill from cartomancers - they can't have perma-pets."
ea7ecc75a Raise difficulty of maggots to 4.
7d4d2f13e Increase difficulty of electric bugs a little.
d8c2463ec Fix: chickenrats could spawn non-rabid.
0b68ae3ed Revert "The Sceptre of Might grants magic resistance when carried."
92ac5cd51 Paper golems drop special cards for cartomancers.
0b95a6785 Maggots and giant flies (from SLASH'EM and SpliceHack).
f27228c63 Merge branch 'updates' into merges
32a887da9 Revert "Fix: Hider could be left hiding under nonexistent globs that were absorbed. Fixes #55."
abf263201 Yet one last tweak to card drop frequency.
a2bca61e6 Another tweak to card drop frequency.
53477e080 Invisibility from magic traps lasts a long time (2500-5000 turns).
f196a0a4c Raise min level of good card drops.
f93d33166 Allow special rooms starting at level 3.
15a8bd38a Add cartomancer and duelist corpses to massacre room and valley of the dead.
e11609872 Fix: Hider could be left hiding under nonexistent globs that were absorbed. Fixes #55.
943200ef9 Merge branch 'updates' into merges
2cb0f788f Use ZT_SPELL in advanced cone of cold/fireball explosions.
00d556da6 Fix: current hero energy better than maximum? when cancelling a skilled spell as a cartomancer.
58f682333 Fix: rnd(0) attempted for declining advanced spell.
b93d7ae5c Another tweak to card drop difficulty based frequency.
577d9e86c Fix to-hit penalty listing for artifacts.
9805f9be1 Inform cartomancers they can combo cards at level 5.
e79225fe6 Another card drop frequency tweak.
d329b5243 Card drop frequency won't drop below 1 in 10 chance.
8ff6ea285 Harsher penalty for throwing to-hit with fumble gloves.
0e0695e08 Card drop tweaks; difficulty and frequency of rares.
1aac3adec Remove cartomancer's starting dagger, add more razor cards.
28cc088fb Fix: Cartomancers not getting starting spellbook.
f5852686f Tweak card drop frequency.
41058d418 Reduce chances of fungus multiplying.
5ce9d637c Ported shoggoths (from SLASH'EM).
25c2c7f6b Fix: rogue's gloves tile spelling.
ee959d6f7 Fix: Missing male spark bug tile.
ef08c6b83 Ported gugs (from SLASH'EM).
3045f0145 Ported pixies (from SLASH'EM).
c91995d9d Ported rogue's gloves and fingerless appearance (from SpliceHack).
e2589819f Ported gauntlets of swimming (from SLASH'EM).
c9e34ce5d Ported volatile mushrooms (from SpliceHack).
3dc0ec166 Ported arc bugs, spark bugs, and lightning bugs (from SLASH'EM).
567e99a40 Molds can propagate passively when attacked.
e044a702e All molds can generate in small groups.
b6fe3428e Molds have a reduced chance of granting intrinsics.
bb47714eb Junk shops (from SpliceHack).
36b2824c1 Elbereth fades instantly for vampires and orcs.
561b0fca6 One more attempt to silence signed/unsigned mismatch warning.
de1a997fd Teleport-pain also drains max-hp and max-energy.
c63195cfa Attempt to silence a couple signed/unsigned warnings.
3c60c1be3 Artifact lookups (ported from HackEM).
63a38de23 Quest nemeses can break boulders after getting frustrated enough.
e4e5a5e30 Remove peaceful highlighting after failed demon bribe.
f065b6c29 Revise erosion pricing (EvilHack fix).
be043ffef Cartomancer card drops get less frequent as the difficulty increases.
aff540c85 Valkyries get a winter wolf cub as a starting pet.
2867e2d67 Rogue counterattacks use 5 energy per counter.
565b8b928 Barbarians blood rage requires a small amount of energy for each attack.
50d49aee4 Rename NetHack.PDB and NetHackW.PDB.
1a2ba9d30 Attempt to fix nhdat filenames for windows build.
bc2f507ae Fix nerfhackrc.template filename.
3b0805816 Fix a couple of nethackrc references.
1cd03763e Rename NetHackW.exe.manifest
622af6012 Fix misplaced brace in objects.txt.
6b2ad13c7 Add missing drain and zap tiles.
1955fae76 Add missing cold trap tile.
9d6dd095e Add some missing dungeon feature tiles.
9652ec050 Silence more warnings the windows compiler picked up.
98afce81c Port in all missing windows tiles.
cf0d44158 Fix more potential uninitialized variables.
6c7c4231a Silence another potentially uninitialized local variable warning.
1906fd229 Silence potentially uninitialized local pointer variable mtmp used warning.
19937b824 Attempt to fix windows nmake install.
94427822c Fix tar command for windows build.
54a070d1f Fix formatting in makefile.nmake.
28084eee5 Reenable windows build.
e524affe1 Remove trailing whitespaces from src and include files.
9ae3725df Huge cleanup of tabs to spaces.
d11c6c7f3 Allow pounding when blind.
0274a33b0 No wishing amnesia for wizmode or fuzzing.
297fce153 Hero hit by potion of acid gets items corroded.
1921a8679 Couple more auto-id cases for muse.
68e3bf12d Pets won't eat unpaid food in shops.
475ccbc5d Resync lighting shop items with 3.7 (mostly).
39e0807f1 Ranger skill tweaks.
1a9f1c91b NERFHACKOPTIONS instead of NETHACKOPTIONS.
bd567c1af Label all role data for easy reference.
13e7ed338 Unify all grease wearing off code.
1b2233b30 Cartomancer names for foulstone and whetstone.
ae0c7c79e Dal Zethire gets a random ring.
fda273cb7 Tighten up diluted potion effects; sync muse potions with player effects.
67d2acaab Auto-ID more musical instruments.
ff3df6f34 Higher frequency of sink/toilet pairings.
71165bb72 Fix: Price of eroded items could be negative.
75688393b Toilets can sometimes break when sat on.
ab0445e0b Cold rays don't always cool forges.
42a4c70bc Dipping acid into toilets explodes and destroys the toilet.
66d60b674 Misc cleanup.
f301f5ed0 Fix: max used instead of min for 5cd98962b.
193549b77 Fix bloody tree description.
509fc87bb Werefoo can summon rabid breathren.
29b965585 Fix: Unicorn dip not clearing harmful potions.
16b137708 Add stinking spheres to is_boomer list.
e205ca96b Symmetry for rabid attacks between uhitm, mhitu, and mhitm.
e736b19c8 Fix: negative damage possible in piercer_hit.
bf1dad42b Do not autopickup when hallucinating.
001b41aeb Fix: mon inflicting negative damage from ring.
a0e0a9fd2 Dipping into a cursed potion will cause an explosion (from SLASH'EM).
a2e7e1f78 Water dipping symmetry (from SLASH'EM).
d198b634a Fix: more complex alchemy recipes were not working properly.
f0aa35ee3 Fix: Prevent zap card of wonder from identifying wand of wonder.
2dbbbf248 Fix: stinking sphere cards didn't explode on impact.
d6e539ac4 Prevent tame spell beings from being rabid.
6a6099958 Fix: Bad mcan check from 4c0c35c39.
87d5cb2c6 Monster won't pick up items they hate or gnomish armor if too large.
93f3b8179 Fix: 'kobold shamanwearing spherical amulet'
7280372e7 Remove healing and attack spell skills from cartomancer.
074d2bc0a Diluted potions of full healing heal less (EvilHack).
0badb7fa1 Revert "Revert "Added diminished effects to several potions if they are diluted.""
6f368506c More stupid funny first room engravings.
83a4b00dc Fix: Non-cartomancers should not see spellbook charges.
8b6a11458 Spells of knock and wizard lock have a range of 1. Wizard lock is demoted to a level 1 spell.
513a6e320 Cursed zap cards can backfire, but not explode.
812831843 Change binding for wizmakemap.
27d55c93d Cartomancer card combos cost energy.
3620a35a6 Fix cartomancer card combo numbers.
6fa53518e Allow the cartomancer card combo to be cancelled on first card.
2ebbfd83a Remove riding skill from cartomancers - they can't have perma-pets.
aad8fb0ab Cartomancers can cast card combos.
a602361f1 Remove dull spellbook effect from cartomancer rulebooks. All rulebooks are dull anyway...
a6edf47b4 Cartomancers know enchantment on all razor cards after XP6, and BUC status after XP14.
eb728ee2b Increase MAX_FLANK_BONUS to 30.
05d06fbf4 Cartomancers are slow (start at speed 10).
51b2b5776 Cartomancers don't get a starting pet and cannot tame monsters.
c5f46816e Cartomancers have 'blank card's, not 'card of blank paper'.
4c3fffa7c Fix: Inconsistent lighting in Lavender town level.
6a13167bf Fix: Cartomancers shouldn't start knowing novels or Book of the Dead.
d141344e4 Dipping in potions of reflection erodeproofs an item.
a85a910a7 Couple rabid monster spawning tweaks, increase rate slightly.
5a11551b7 The spell of knock cannot be used to escape from an engulfer.
5b685c2f4 Falling rock traps can dump multiple rocks.
902bdf934 Free action protects from stoning paralysis.
75ebf9a84 Boulders deal 1+5d4 damage instead of 1d20.
f05429d20 Being satiated abuses wisdom for Samurai.
9c09d7d57 Abused wisdom if items are destroyed by over-enchanting.
2aa14a00a Potions can sometimes generate diluted.
a6abab270 Shopkeepers only offer 1/2 price for diluted potions.
48b51b332 Archeologists get built-in price identification.
357f08624 Adjust prices of cheaper scrolls..
6d8364997 Fix: bad otyp check for cartomancer casting.
b01663c67 Fix: couple u_init.c  items got readded during last upstream merge.
cead733e7 Merge branch 'updates' into merges
92bca4df9 Cartomancer spellcasting overhaul.
c9adb8e36 Allow orcish archeologists.
837b53c11 Couple getobj check fixes.
442ce7c0c Repair spell (adapted from repair armor spell in EvilHack).
5e340312c Lost tomb: No containers within containers.
8e8d9cf66 Cursed summon cards create hostile monsters.
af05d9fe0 Better whip cracking.
50682adfb Toilet missing from levltyp array.
fd96fcb30 Fix: Racial skills were not being granted properly.
7f217ac93 Possible fix for autopick bug caused by cursed foulstones.
ea50378c4 Cancelled displacers are incapable of displacement.
4c0c35c39 Cancelled monsters can't explode (in death or as an attack).
3eecc6892 Sustain ability protects legs from wounding.
044a95de9 Reduce duration of wounded legs from hobble.
fb5a95fde Remove increase damage from gauntlets of force.
68184026a Remove monster flooding on the ascension run.
bb9c436bc Fix: 2 portals in wizard's tower.
04961f7a5 Merge branch 'updates' into merges
4ba49198c Fix: check_dogs could crash when comparing with Astral guardian angel.
e189c6b2c Fix: Bad msummon check in dog_invent.
bea6abeb1 Potions of restore ability can be alchemized.
163af6658 Quaffing potions of restore ability also cures wounded legs.
af4fbc443 Samurai (and only samurai) can forge shuriken.
8148ea730 Added one more tier of illiterate HP gain for cavemen.
b120a40dd Tweak odds for #offer odds (from EvilHack).
ddb8e8939 Spellbook of light effects scale with spellcasting ability.
8612584aa The spell of dig is lower level, but less effective than the wand.
2c22d5104 Effective of magic mapping spell depends on your spellcasting ability.
a48232244 Cursed launchers always have a chance of misfiring.
c508533c8 Fix: Peaceful monsters were angered by other monsters spell blasts.
ee67ddda7 Bag of holding explosions are not prevented when confused or hallucinating.
1157758d6 Fix: The shimmering dragon tears through a spider web! (while sleeping).
a0df5c51f Regeneration only causes additional hunger when injured.
cd7366db9 Fix auto-id with wands of poison gas.
fb2ae8f0d Fix: Enchanting gauntlets of force didn't apply damage bonus correctly.
75d5adba1 Fix: rnd(0) attempted in rogue backstab, while twoweaponing.
f17d3c3aa Prevent card drops in invalid locations.
1fd660c79 Fix: Possible buffer-overflow when hitting the devil card in deck of fate.
f3af18ff1 Fix messaging for carrying foulstones.
c63b9eb35 Fix: Foulstone clouds appeared after player moved, becoming harmless.
b513d2a1b Cursed foulstones cannot be dropped (like loadstones).
2f6f26027 Potions of reflection are immune to fire and cold damage.
e69e69fc3 Add extra dragon scale mail effects to object lookup.
b55af0886 Monsters can't be displaced if helpless or trapped.
159058b06 Shimmering dragon scales only grant 1 more AC than other dragon scales.
fadf77e9f Humanoids are more careful about attacking you.
b93feddd0 Mind flayers won't usually attempt to eat the brains of petrifying monsters.
1b2dcf9f6 Fix: trapped without a trap (fmon) when polyd into a green slime.
653cf1f96 Couple extra checks for preventing peaceful rabid monsters.
c25622397 Preventative fix for infinite swap weapon loop.
e5a424136 Change woundedlegs, glowhands, and barehanded statuses to opt-out so they are available by default.
2872a3bd2 A little cleanup in find_flanking_pos.
5b90623d9 Flanking bonus overhaul.
d4657f89e Correct maxhp and maxen handling in a few spots.
1036e6cf7 Strength doesn't affect to-hit calculations.
efda2042d Amulet of Yendor need only be carried to hint of nearby portals (Spork).
fbf156926 Phase spiders can't move diagonally.
a8026d608 To identify weapons after expert, we need to wield them.
e049887c8 Wizards are able to sense magic fountains.
ea543e77b Mixing oil with water always results in diluted oil.
28ce43409 Being breathless protects against chest gas traps.
e234afad0 Wishing with bad luck causes amnesia.
1fc65d83d Applying a cursed horn of plenty causes hunger.
26ae095a4 Wearing an antimagic shield totally blocks spellcasting.
84c4d361c Reading cursed scrolls of remove curse will curse items. It otherwise does nothing (except unpunish), and this at least does something thematic.
267661174 Spell of charm monster nerfs and updates.
fd709a04a Cursed armor weighs more when worn.
9250f9b84 Cursed rings burn extra nutrition when worn.
0ffaef7dc Fix: Possible null uarmf check in Known_lwalking.
3993a41ea Merge branch 'updates' into merges
f615735cb Xorns can flank.
03f423e99 Add many more trees to barbarian quest start, but they can be chopped.
2d4e78d29 Fix: eel hiding out of water (fmon) on quest filler levels.
a6a24b2c1 Sitting down can partly wipe engravings on your space (from xNetHack).
fbce18f8c Quest artifacts cannot be left in bones, they revert to ordinary objects.
542339849 Iron golems get a passive disenchant attack (from SLASH'EM steel golems).
650a12dac Show innate reflection in pokedex (silver dragons/chromatic dragon).
201589ad4 Non-chaotic same race sacrifice cracks altars.
4287cb966 Grave troll corpses cause sickness.
1290c0768 Fix: eel hiding out of water after confused reading scroll of flood.
abea5a541 Fix: Wand of draining not handled in zapyourself.
8cf783fa9 Fix: segfault when triggering passive attack on energy vortex.
c300a8af5 Another potential rabid peaceful fix.
d9bb57a6d Tweak intrinsics gained from eating corpses up a bit.
c221bf9b5 Monsters can use breath/spit attacks in melee range (from FIQHack).
e6f73db43 One more fix for potential peaceful rabid monsters.
0345ce228 Prevent more ways rabid monsters could become peaceful.
bb663f299 Fix: Weapon id after level 10 doesn't include ammo.
161cd5ea3 Fix: bad uswapwep check in threatens_dmgtype.
6f4c6ce2d Possible fix to current hero health (30) better than maximum? (21)
cffc804f5 Fix messaging when swapping a hated item.
e3303e431 Change #debugfuzzer command to just #fuzz. I use this A LOT, so not having to type the extra stuff is very nice.
2e5fc698e Fix: null spellbook referenced after it was destroyed while reading.
67fe783c9 Fix: impossible, eel hiding out of water (gnomish mines).
a65ce8ea9 Fix: double message for bloody pool on self-look.
51296703b Impossible for dead nymph post steal.
e2a9c237f Fix: mon zapping cursed wand which explodes causes no monster to remove. Fixes #48.
50e79528c Prevent Cannot open record file! impossible while fuzzing.
764172cda Fix some spots in muse.c where 1 should be returned for dead monsters.
8f9ac7704 Fix: mon zapping cursed exploding ray wand could trigger beam effects.
d4bc3368f Lockpicking is limited with welded hands.
da8d1f3a9 Fix: Monster angered by exploding mon thrown potion of oil.
7d56ebfed We can see if monsters are reflecting in farlook.
9d5bf7fa6 Minotaurs get flanking.
fcf52643d Fix: stinking sphere explosion type handling.
f105460cc Reduce severity of unicorn horns getting cancelled.
4a1c3c5f4 Clarify live-log for finding artifact in the quest.
1a44c6446 Disable impossible for yn_function() returned '^[';
f8fe13f90 Fix flint dice for cartomancer.
80df718bc Sort out flankers vs wanderers.
7d726214d Rename scroll of water to flood. Better for wishing and testing.
a8552d32b Monsters can read scrolls of water.
49e645ff5 Fix gas clouds for dying stinking spheres (and gas spores).
e904c400d Update database entries.
4f6fd8772 Remove unused stairway_find_forwiz.
85d914333 New monster: stinking sphere (from NetHack Fourk)
5d975be6a Monsters can dip weapons into potions of sickness.
be959c364 Improve monster flanking and position finding.
964ac9ab6 Hallucination mixes up potion appearances.
f0acd97d2 When hallucination, BUC words can get mangled.
399cc86f9 Adjust ms_sounds.
422803d36 Update Nethack to NerfHack in more spots.
7a418644c Fix: beam zap cards had no effect when zapped at self.
2b5375555 Thrown summon sphere cards explode on contact.
344ad2b45 Remove seething from art room descriptions.
375aa16f5 Implement hallucination items (from SLASH'EM).
73740a02b Messages for foulstone gas.
baf5d307e should_givit adjustment from EvilHack.
59468ae97 Name Kostchtchie's hammer.
2a5bfe1db Reformat some monster and weapon lists.
b9bbe7180 Deal 1 damage when confused monster reads scroll of fire.
6705af820 Handle silver shield bashing silver haters.
89aab6c7b Cleanup some TODOs.
dd28b5b72 Use u_at to refactor some player location checks.
012eddf31 Merge branch 'updates' into merges
ce0834f22 Prevent shopkeepers and temple clerics from becoming rabid.
13e20ef89 Adjusted the AC bonus for polearms so it's based on weight.
9b2576094 Archeologists sometimes crack their whip at animals, scaring them.
3e7207fb0 Polearms can be used to trigger traps (from NetHack Fourk).
56a6ae7d8 Monsters can use zap cards against you.
2ddfef542 Zap cards can be wished for and randomized.
3682692bf Boomerangs will can pass through enemies on hit.
783112db8 Thrown projectiles above +7 have a high chance of dulling on hit.
5cd98962b Enchantment based to-hit bonus for projectiles capped at 7.
e84ba3599 Spell beings never eat.
d98516041 Silence unused variable warning for is_inside.
f9ccbee82 Fix: Naming issues with flint dice (as cartomancer).
fba416d38 Cartomancers can get skilled cleric spells and expert riding.
320f4757c Fix: gnomes could start with 0:0 cans of grease.
d9011f03c Another revamp of cartomancer starting inventory.
9206e2a8f Tame the level of card drops a little bit.
70c5afd81 Spell being spheres won't explode too close to cartomancers.
7344b3db1 Monsters that hatch in water drown unless amphibious or natural swimmers.
f83cead27 Fix: rabid monsters were never generating.
ca1a293ec Remove jumping spiders and replace with phase spiders.
55cdca089 Allow ha-naga, green slime, and disenchanters to generate in the main dungeon. Since Gehennom is shorter, we might not see some of these otherwise. I raised the difficulty of some of these to compensate.
f3c89578b New monster: basilisk (from EvilHack).
b0012b4ed GDSM stops sickness; shimmering DSM stops stunning.
2fb3e0008 Wearing YDSM actively stops the stoning process.
768bb4b3e Grimtooth updates (from EvilHack).
8fed033fd The Heart of Ahriman can be invoked for blessed remove curse (Fourk).
efd0f14c2 Glowing eye message.
3c2d21217 Cursed gems count as attacks vs unicorns.
961b5db8e Fix: extract_from_minvent called on object not in minvent for mon zapping exploding wand.
ea386985a Reorganize the defines in muse.
c086b4fd7 Fix: exploding wands didn't get used up when backfiring.
185d12be7 Fix redundant messages for u_slow_down.
5d6aa83e1 Monster can zap wands of wonder at the player.
da34e73d8 Fix a few places where the last wand wasn't correct.
ea7cd73c5 Restrict card drops for revived/revivable monsters.
66cf27919 More card drop tweaks.
d95fd96ca No zap cards for create monster.
a631ae6d0 Factor cartomancer card drops out and tweak the odds more.
6278d8475 Fix: spell minions were hesitating to attack certain targets.
f9603c2ba Cartomancers start with some junk food.
19e83612e Fix razor card listing in Cartomancer starting inv.
80e88132a Disable vampire cartomancers.
0ff0d823a Fix scrolls disintegrating singular.
0038ae521 Replace most fruit juice with blood (for vampires).
561278d6f Cartomancers start with just 2 zap cards.
10885d1fc Flatten artifact to-hit penalty.
99c327865 Clouds are all visible if outside the cloud.
6e3161d0a Blessed food is rotten much less often.
60c254caa Shapechangers hold level-appropriate form longer, out-of-depth only briefly (from nhfourk).
51d6c7b55 The Tsurugi of Muramasa provides very fast speed when wielded (from nhfourk).
2acc1c0ad Suggest donation when #chatting to priests.
4f44e451e Peaceful gremlins don't use fountains/pools/etc. to split themselves (from Fourk).
7deff7651 Gas spores leave a poison gas cloud.
047806354 You can now #untrap falling rock traps, obtaining rocks (from nhfourk).
13a5b8d1b Engraving Elbereth no longer exercises wisdom (from NetHack Fourk).
b1535f76d More tweaking water disintegrating scrolls.
8543cc9a8 Double the to-hit penalty for artifacts.
def26be3f Fix: water disintegrating too many scrolls.
d6e40fd25 The Sceptre of Might grants magic resistance when carried.
159d96170 Remove the base damage increase to sceptre of might.
ba3690667 Monsters can use cameras from range (and more aggressively).
b24632a24 Silver dragon scale mail offers protection against most blinding attacks.
91d12a679 Finish separating dragon scale extrinsics from DSM.
530d3394f Fix polymorph behavior with extrinsic polymorphing monsters.
a32dc989a Fix carried artifact check in mon_prop.
b2b839c68 Consolidate weapon damage for object lookup (from UnNetHack).
b2a7169fc Fix: Weapon ID not working with rangers and XP10 characters.
006eb9f96 Fix: bloody pools colored red.
50554f47f Identify enchantment on weapons we are expert in at XP lvl 10 and up.
99da07b9e Fix message for falling onto your own weapon.
738c3a2a7 Reorganize intrinsics in enlightenment messages.
58960b8fd Fix a couple of is_dwarvish_obj and is_orcish_obj calls.
e90e62155 Deep ones and deeper ones also have thick skin.
f6b5ddcfd Potion of phasing message.
328955406 Fix: magic portals could be described as covered in blood.
471621c25 Fix: Mon hp over maxhp when hit with drain ray.
d19753bf7 Auto-ID ring of withering when worn.
d4f31d0b3 Buff gain energy potions (from xNetHack).
5802289c4 Escape from controlled polymorph prompt no longer causes random poly (from xNetHack).
75c1ea0bc Dwarves and orcs can forge more gear, but limited by race.
4775fe9b5 Fix: phoenix not in make_corpse list.
7cdc7db9f New monster: phoenix (from SpliceHack).
1e6aa5595 New monster: revenant (from EvilHack).
64f51b378 Funny hints.
4d02dafd6 New item: ring of withering.
ce3d757d5 Rings of sleeping (from SLASH'EM).
3c9eb03d1 Ray-based wand of draining.
7f66343a9 Potions of reflection and potions of phasing.
e8dff20ed Merge branch 'updates' into merges
11c908398 Potions of paralysis have less effect when diluted (from EvilHack).
4efa44dd4 Magic beam traps can very rarely shoot disintegration rays.
100ba99a9 Nudge most baby dragons down a notch in difficulty. There was a noticeable gap between seeing baby white dragons and others, and it's good to have more variety.
95d716041 Nudge up level and difficulty of baby white dragon.
13ae3b98a Dragon scales do not provide secondary intrinsics (scale-mail does).
1ccc3407d Shimmering dragons get a stunning breath attack (from EvilHack).
5d440874b Enabled shimmering dragons.
4f3270094 Monsters can also use scythes at close range.
321714435 Loyal steed attack fix (from EvilHack) and refactor pet targets.
daa6b2528 Cartomancer card drops are biased towards sphere cards for weaker monsters.
be1b9b030 Remove staticfn declaration from arti_prop_spfx.
53401f0f6 Tweaks to cartomancers starting inventory.
3da011511 Cartomancers start with only one zapping card.
23f5aeb3b Farlook shows amulets and rings monsters are wearing.
7b79548ce Monsters can benefit from rings of increase damage and increase accuracy.
b73eaef4e Monsters can get extrinsic polymorph (via ring of polymorph).
dcbaccd12 Flesh out monster preferences for item properties.
019f948f6 Monsters can wear amulets of flying.
406a69b36 Monsters can wear amulets versus poison.
1495cbee8 Monsters can get extrinsic flying.
d32020505 Monsters can get extrinsic levitation.
0d0bfe97b Monsters can get extrinsic hallucination resistance.
be669f716 Monsters can get extrinsic teleport control.
a57495de8 Monsters can get extrinsic teleportation.
ca74a300c Monsters can get extrinsic slow digestion.
892e3a800 Monsters can get extrinsic regeneration.
e53ca92fd Monsters can get extrinsic see invisible.
d34fd3c8f Setup foundation for advanced monster extrinsic checks.
065295731 Monsters can get extrinsic free action.
c722f23c1 Monsters can get extrinsic water walking.
c26148b78 Monsters can get extrinsic telepathy and shared telepathy.
f54746de1 Monsters can get extrinsic jumping.
ac60f5833 Monsters can get extrinsic displacement.
1832dcdcf Add corresponding functions for checking MR2 flags.
c451cfeac Allow monsters to wear rings.
3b5805ade Updated MR2 flags. This is in prep for supporting monster ring use.
8abb39702 Fix formatting on cartomancer imports.
fef97abd9 Monsters can zap wands of slow monster at the player.
ebfaaccf5 Partially reflected floating eye gaze only paralyzes 1-2 turns.
7391fd4f6 Hallucination always protects against floating eye gaze.
2fb0a71da Instead of 'corrodeproof', say 'fixed'. It's half the length and inventory real-estate is expensive.
72bf83152 David's Sling glows red in warning.
18d3dba23 Lost tomb loot goes in chests.
320c4a799 Clarify need-hammer message for forging.
881c22883 Gems auto-id after successful gem alchemy.
92e3180ce Monster spellcasters can cast stone-to-flesh vs stoning (from EvilHack).
513018977 Hallucination negates all incoming gaze attacks (from xNetHack).
6b1d9db3f Reduce partial intrinsics conveyed from corpses and fix display.
903d39275 Shadows can follow the player.
a2cebfe46 Foulstones generate cursed.
73c60cffe The orcish temple only gets 1 altar.
071ed50b2 Remove pools from orcish temple fountains.
a1d5e8fba David's Sling deals an extra d6, not flat +6.
f22f880dc Fix: plural of dice.
bc963c10e Fix: taking off slippery boots referenced gloves.
916c4eebf Fix: error: static declaration of 'mcast_dist_ok' follows non-static declaration
5cadab8ab Ported David's Sling from SlashTHEM.
96bd22ad8 New monster: chickenrat. This is a thing from the kids show Bluey. It's also meant to replace the rabid rat because it will always spawn rabid. Basically it's has the same stats as the old rabid rat, it also can jump at it's victims.
cbcca567a Giants and redcaps sometimes get war hammers.
842dab646 Quick Blade grants very fast speed.
82acecb04 Randomize the leveling up to-hit and damage bonuses.
9ed322944 All artifact weapons get negative to-hit penalties instead of positive.
28bd250d0 Remove obsolete ZT_SPELL_O_FIRE.
32b5bcb33 Fix location of clone for muse scroll of cloning.
ad1a9f385 Fix target coords in muse scroll of fire.
6c803b443 Match muse scroll of stinking cloud to player use.
85bdceef5 Monsters can read scrolls of fire to cast fireballs.
ad3be9859 Add a 'nice' prompt for teleport pain in gehennom.
4150a7f83 Monsters can also be stunned by falling rock traps.
4be4fc780 Fix tower shield bash damage.
a988b5e5e Fix shield block training checks.
ae63af405 Fix some compiler warnings that have been building up.
1a91b9938 Vampires cannot #turn undead.
860b7fd5b Vampires like cursed blood (more fixes).
cc4b01750 Lower level threshold for vampires getting vampire blood.
716f29c2b Vampires get opera cloaks less often.
86ea57011 Vampire monsters can quaff vampire blood to heal.
7ab7c8ba7 Extrinsic drain resistance protects vampires from other V bites.
8b19e41ba Vampire and vampire-priest inventory updates.
0bb05872c 1 in 4 potions of blood generate cursed.
2adda07fb Remove hunger from vampires. Too harsh, with it vampires are almost required to rely on prayer, which doesn't seem too flexible.
a2e906599 Fix: AC info leaked for unknown cloaks and other armors.
cb5a88584 Tweak vampire food-to-potion conversions a bit.
0d8163ee0 Shopkeepers charge vampires more for blood when they are hungry.
c71103a10 Fix: Memory leaks in check_dogs.
43374746e Raise difficulty of athols. These bastards definitely are appearing too early, groups of strong monsters that also berserk... Yea, gonna put those in the midgame lol.
c36af3262 Move shield skill training check to better place.
2c07f6a40 Tridents can skewer through enemies at skilled level.
01b29705d Ported Tower Shield (from SpliceHack).
1b0e9f630 Shield skill (from EvilHack with mods from Hack'EM).
703820283 The Hanged Man also reduces luck by 1 when drawn.
1394b718e Hermit card uses SLASH'EM effects.
04cc0508d Fix for weapon *not* held by mon.
5613f2f78 Put monster placement after dungeon feature gen (xNetHack).
27ded9f50 Fix elseif block in minetn-8.
0e4e2d3ea Fix: Unicorn horn check vs domonability.
d3b3f5176 Limit range of attacks to 1 square when in a pit.
a85eba634 Shopkeepers get some extra items (SLASH'EM).
b0e1e1f1d Shopkeepers get a wand of sleep instead of striking (from EvilHack).
8ad2e5a22 Fix: Starting pet could immediately untame.
ed24d5b7d Revert - a606d995b Taming is more difficult on the Astral Plane.
36adb3f59 Limit number of pets you can have (from EvilHack).
d70406a9a Greased rings slip off your fingers as if you had greasy fingers.
a4b1604c2 Fix: static declaration of 'make_feet_greasy' follows non-static declaration
4fd51e2d1 Cursed rings can slip off your fingers when Glib.
da5f79c23 Greased feet revamp.
32e7b56a3 Greased gloves cause Glib.
29125ed6a Fix: +0 unicorn horns were broken.
22cbacacd Mumakil get butts or kicks instead of bites.
05bf49bad You can kick with kicking boots even when your legs are wounded.
7b3f8c10a Many other item actions are forbidden if you have both hands welded.
3f42665f6 Fix hammer check in doforging.
b9b973120 You must have at least one free hand to zap a wand.
c60205e60 Flesh out some additional item info in the pokedex.
0bbe2bb23 Just one really nasty mon in zootown.
957104400 newsym after untrapping rust trap.
d0d54a3a6 Slipping in a grease trap didn't identify the trap.
8e322206c Sitting on toilets fully heals your HP.
279517d16 Remove message for vampire fighting on Elbereth. It is confusing to see - You are a coward, then You feel clever.
81da5d5e1 Converting altars has higher chance of summoning minions (SLASH'EM).
ee07dcf0a Increased weight of all gray stones (except load and flint) to 25.
a243abab5 New gray stone: foulstone.
569d78531 Fix old style def in recalc_health.
3a928b43b Ported whetstones from SLASH'EM/HackEM.
d303da158 Deck of fate: Change Tower's fire explosion to acid. Avoid possibly destroying the deck while using it. (and also acid resistance is more difficult to obtain.)
8026c42bc Update ZT calls to use macros.
648862f30 Deck of fate: temperance card results in worse cards.
82559d2e4 Monsters carrying noncursed healthstones can regenerate.
16140630f Ported healthstones from SLASH'EM.
2f696f368 Refactors the playing card deck and deck of fate.
430b47367 Deck of Fate: Justice can grant protection.
994422ca4 Untrapping a grease trap can result in a can of grease.
96cc0c039 Any altars generated past the initial altar are always cracked.
1cb758409 Fix: fmon: level 3 wererat has 20 cur HP, 14 max HP
ee31ae527 Rabid monsters cannot quaff potions.
a932abb6a Fix wizgenesis for creating rabid monsters.
1999eacd5 Fix some things with the rabid attack.
9d580f259 Leather armors don't grant any MC.
0ed078331 Fix: grease traps could grease coins.
5fc556f79 Spellcasters can use Cure Self for illness, blindness, withering, and rabid statuses.
bb1ea0e47 Healers get sickness resistance instead of warning at level 15 (from EvilHack).
8ee29e8e8 Crowning also has a chance of granting sickness resistance (from EvilHack).
e2fcdad4e Monsters can quaff potions of restore ability to un-cancel themselves (from EvilHack).
43c573845 Port diseased monsters behavior (from EvilHack).
8be066328 Convert bloodshot eye to third eye.
20b345d6f Falling rock traps can stun you.
402066eab Falling down stairs while stunned or confused.
62cae2969 Cure sickness is now directional (from EvilHack).
e1e08aeff Healers start with 2 eucalyptus leaves.
f23e26e80 The Sokoban prize can also be a cloak of magic resistance or a magic marker.
2e747427a Stop Sokoban guilt after acquiring the prize.
7cd25e0df Breaking rocks is noisy.
15f578324 Thick skinned indicated in Pokedex.
120f27a1a Monsters hitting grease traps.
bd0f29b79 Fix: Unwearing Mayhem didn't stop conflict.
427af024e Trees can generate in dungeon rooms.
f6851f089 Pets are less likely to attack yellow molds.
3d97f77f3 Fix: Bad check for vampire food-to-blood conversions.
34516dde6 Fix: starting pet could be rabid.
daeb58089 Fix: Food-to-blood convertsion for V. Tripe rations are also converted to blood for V.
4fd719c03 Raise base price of gnomish cloak. Make it equal to orcish cloaks value.
2771c0936 Vampires hate gnomish items. Mostly because they are too small. Vampires have the same corpses as humans (if they left corpses), so it's a good assumption they would hate the same thing as humans do. Alternatively, they could hate anything that isn't fine clothing - but there isn't much of that going around the dungeon...
3ecd72f01 Fix: Missing rabid attacktype for add_mon_info.
e59878396 Vampires don't use their bite attack on shades, both because it does no damage and because it produces a confusing message (from UnNetHack).
1b8c76c44 Finish the monster spellcasting ball effects.
e18b140ad Fix: flagged in_use obj when wand explodes.
5fdf882b8 Vampires like cursed blood more.
548cd4b79 For vampires, most food is replaced by blood potions.
ec9ef9660 Some rabid tweaks.
a6bd77329 Grease trap is puddle OR spray, not both.
d04ed3368 No engraving while being held by a monster.
dcddf013a Fix: hallu msg coming out of cold.
7ecaaf566 Forging recipes (from EvilHack).
8c5559a10 Fix off-by-one in dropping unihorn.
6c225fa9a Fix: Items other than unihorns could be described as degraded.
27ada0c57 Rabid monsters that poly can stop being rabid if the new form is immune.
f8a386d3a Fix: clones were always rabid.
2638adcbc Monster generated peaceful or tame will never be spawned rabid. This just avoids a whole host of issues and stays more in line with the spirit of monster generation.
7e161f93f Sanity check for mberserk.
13c4eb7c8 Cancelled unicorn horns become degraded, unusable for curing.
d0ebfe767 Healers can use an uncursed unicorn horn as if it is blessed.
4a72af423 Gremlins and gargoyles cannot become rabid.
ce86b5d57 New status: Rabid. Players and monsters can now become rabid.
801220588 Merge branch 'updates' into merges
4bbd420d7 Show skill slots available.
e9c06132a Fix death messages for regular monsters (unpoly_monster).
48e8867a5 Recolor gray fungus to black.
523a1ee8f Vampires are immune to lycanthropy.
7639704d5 Werefoo and changlings turn back to their form when killed (SLASH'EM).
dd49c7fdf Unicorn horn drops vs unicorns killed.
01d0913c8 Eating an amulet of life saving can reset saving grace.
9424679e7 Weapon enchantment gives variable to-hit bonus instead of flat bonus.
386b5e3ca SLASH'EM style wraith corpses.
d625cd07f Fix some bad monster listings in arc-fill maps.
575e1294f Adapt unicorn horn enchantment to higher weapon max enchants.
556cf9741 Finish and fix gem alchemy. Missed some pretty important stuff on the first try...
f5f7ea769 Gem alchemy.
53851538f Object lookup for alchemy and refactor alchemy.
1c6650143 Vampires can use tinning kits to bottle blood from corpses (from SlashTHEM).
08a2779a4 Altar artifact gift frequency depends on level (from EvilHack).
eac5cd2f0 Archeologists start with an extra scroll and spellbook (SLASHEM).
65a8807f2 Snickersnee grants stun resistance when wielded (From EvilHack).
a68a16270 When learning weapons through use (becoming familiar with them), you fully identify the item and also discover the object's base type.
813c0f36b Eucalyptus leaves can not be rotten unless cursed.
e340ea5f9 Cartomancer mplayer gets razor cards instead of shuriken.
55ae0e330 Cartomancer card abuse penalty revamp.
b9972134d Consolidate Moloch's Temple chest treasure.
257ac6d3b Fix: bloody altar description in farlook/dolook.
899def3cf Zombies bite legs more often (not dependant on health).
91d387920 Don't color bloody fountains red (conflicts with forges).
52ec4b7ac Funny halluciation messages for entering/leaving hot/cold levels.
f29c5128a Fix: some bloody tiles had no bloody description.
2917206b9 Remove thick hides from grave trolls.
12710f21c Morning stars weigh 50, war hammers weigh 120. Just switched them, morning star always felt too heavy, new war hammer felt too light.
820c8cd23 Wargs have a thick hide.
874a387d4 More forge/toilet odds tweaks.
b33203c6c Shuriken only weigh 2.
a9ce4f0c8 Auto-ID scrolls of food detection if they have an obvious effect.
954a00162 Sling bullets only cost . Prevents degenerate flinting/forging them for gold.
83159dd83 Rocks only weigh 4. This goes well with all the flinting cavemen do.
463b664b4 Be more generous with forging sling bullets.
921d70d9a Fix: Erodeproofing in forge could result in rusted rustproof item.
7b5ffca7c We can see if our pets are confused, stunned, or blinded.
0a2174aa2 Cavemen get Keolewa as their first sacrifice gift.
8600b9469 Remove fire res and curse absorbing from Serenity.
b59f3f882 Tweak low dex punish for falling.
cdbda1628 Raise spellbook of identify to level 5 (from SLASH'EM).
2b41f79ea Fix: acid sphere implementation
763e4ed25 You can fall onto your own weapon whilst fumbling.
05b991a0e Serenity blocks aggravate monster.
ddf5fc1dc Ring of aggravate monster causes pets to attack anything without fear.
150193c7a Aggravate monster causes monsters not to flee and not be scared of musical instruments.
04f87f673 Aggravate monster spell cast at hero causes intrinsic aggro mon for 50-300 turns.
ee72e09c0 Intrinsic aggravate monster increases mon difficulty by 5 (stacks with extrinsic).
09f52ef60 Eating domestic animals causes aggro mon for 5000-7500 turns instead of permanently.
bfbd2631d Cannibalism causes aggro mon for 10-15k turns instead of permanently.
5acc2b12c No multishot when fumbling.
efc305364 Jewelery eating only grants temporary trinsics.
49221c6dd Move T-rex and velociraptor to 'z' class (dinozaurs?).
a363a7118 Raise spheres 1 level.
8224b5474 Port acid spheres (evilhack/splicehack).
665ebe229 Stealth and Speed no longer valid gift from god.
043096b9d Level-teleport in hell (or wiz/vlad's towers) causes major pain.
1dd3034e1 Cartomancer skills.
e1a86d8af Comment fix.
0a99af5fa Revert "Serenity is instead a spear that grants +d20 damage instead of a silver spear with +d10."
2e0230d36 Reflecting floating eye paralysis depends on Luck.
14328d09e Make spheres' explosions passive as well as active (xnh/evil).
8640e895d Fix: Some hostile monsters in a group were still underlined after spawning.
cae90ba05 Can wash goopy feet in fountains/etc.
559371983 Kicking monsters can sometimes clean greasy feet.
9927b9419 Auto-ID enchant armor when it erodeproofs or hardens dragon scales.
1f64da426 Serenity spell-countering tweaks. Serenity only works when you can spot the spellcaster and within ~13 squares. This limits it slightly, but also makes more sense with messaging and the general feel of it. I also cleaned up the counterspell calls, since they seemed to be different for clerical vs arcane spells.
f0bf284fb Cavemen only get arrow flinting prompt when carrying arrows.
36d8ff558 Knockback is noisy.
9e7437da6 Fix: some blood descriptions and display issues.
c3a801e3a Fix comment in cart quest.
fa2b333ad Altar cracking probabilities.
346485feb Bring back throne wishes, evilhack style.
a0cdd8fc5 Adjust probs of ? of knowledge and cloning.
567f7f836 Port toilets from SLASH'EM/HackEM.
e4b67f030 Reduce probability of forges.
e72770d6c Wishes for artifacts only count if the player actually got the artifact.
a3d4b498a Uncursed scrolls of water have luck based chance to wet hero.
ca676bb2e Hero's color reflects their race.
bcbf489e5 Fix blood coloring to only floor features.
d41deadeb Cursed food won't tame/pacify monsters.
0f61fee7d The caveman's gods can also ignore major trouble.
f3e6b878b Remove a lot of showdamage calls for non-player damage.
415cb613f Better messages for cancelled berserkers.
347e7ebae Using the noflipsoko option breaks the Sokobon rules.
f0d682b73 Troll corpses provide more regeneration.
0fd8ee136 Soft revert 82f0b1e8e - Scared hostile monster which cannot move away will attack.
54e4ee825 Zombies get an additional poisonous/wounding bite.
14dee2360 Fix a couple of missed initialization from adding bloody tiles.
f4568668d Scroll of cloning (from SpliceHack).
8d9872f4f Port scroll of water from xNetHack.
21c26988d Scrolls of knowledge (from SpliceHack).
96ad96081 Buff AC of heaviest armors.
c5ffda605 Only color bloody corpses, not objects.
50127a93d Fix: Random Z in lavender town could spawn ghoul mages/etc.
77c77299c Handle tame monsters going berserk. Fixes #32.
07d21d485 Re-enable all hellfill level types.
31fa4ce41 Increase size of Gehennom a bit since wiztower doesn't take up space anymore.
07f34d369 Blood splatter tiles (from SpliceHack).
2453bcc0f Extract wizard's tower to it's own branch.
a981c29fc Fix: Possible rn2(-3) attempted in do_osshock.
98960befb Max unicorn horn effectiveness.
448dca48c Couple more disintegration ray tweaks.
b2c685611 Messages for hearing shrieks and roars underwater.
3d483acd3 Dragon roar adjustments.
a32618262 Black dragon breath is 12d8. This fix should have been brought in from EvilHack before when partial resistances were implemented. Now, the disintegration breath should deal the appropriate damage.
6917e7de9 Intrinsic disintegration res doesn't protect items.
0a18a1385 Cold rays can cool forges.
eaa61b345 Over-enchanted weapons explode.
3c5153c4e T-Rex also emits a scary roar.
147747800 Weapons can be generated with higher enchantment.
5530c40f3 Disable neutral vampires - they are inherently evil.
6365defdf Added velociraptors and T-rexes for cavemen (from SpliceHack).
71c1af448 New option: flipsoko. Enables player to choose whether they want their Soko levels to be flipped. Suggested by K2.
93fbfbc41 Merge branch 'updates' into merges
e691865d0 Fix giant anaconda listings in arc quest.
28323b0c3 Credit cards may slip through a lock when cursed or hero is fumbling (from xNetHack).
16fceb70b Jumping spider appear in small groups.
b3eec54b4 Port Amulet of Storms (from xNetHack).
8e41c1625 Allow #terrain while impaired (from xNetHack).
753263c32 Mon zapping cursed wands also explode.
00cb9219a Raise damage for muse wands exploding.
79861bab5 Remove prompt for fuzzer. This is available in wizmode only anyway.
371fd4b37 Merge branch 'wandbreaking' into dev
676bb1498 Wand explosions discharge their effects (SLASH'EM).
6c2f20f17 Ported giant centipedes from EvilHack.
fd10b2b34 Wands generate with 4 more charges than they normally get in Vanilla (SLASH'EM).
af64d814a Load Brand gets a d40 bonus instead of d20 - go big or go home!
0f528d5e5 Sync weapon damage info in object lookup; some entries were off from porting from xNetHack.
a5e333744 Display weapon info for gem class items in object lookup.
f5a3682e0 Improvements to dipping flint stones in forges.
12e5cb2f0 Barbarian blood rage attacks make noise.
467d43b5d Chance of giant anacondas in arc quest levels.
88543bddb Cavemen never get to id all items.
8c9453da7 Adjustments to arc snake fear.
ff1d67104 Revert "Revert "Increase wizard harassment by 20-25%""
03de0bbba Revert "Revert "Monsters with a negative AC get damage reduction from melee attacks.""
e5bf7efd4 Revert "Elementals only get 2x HP on their home level. 3x just feels a bit gross now that we can't cheese them with bugles and whatnot."
0739b4ccc Don't show damage for most mhitm interactions.
3ca6cc69a Cavemen know sling bullets.
c9d87121e Add cartomancer to exploding wand handling.
dbf96e840 Weapons can be enchanted much higher, with a soft limit of +11.
5e5a3b882 Fix: Spear skewering could hit peacefuls.
fb8d66356 Reveal green slime when they attack from hiding.
b8ce38d08 Leveling up grants damage bonuses (from SlashTHEM).
1064ae6ee Players get a to-hit bonus after reaching level 20.
588d4157d Ported sling bullets from EvilHack, with adjustments.
3547af684 Wands of secret door detection can be broken to detect traps.
8bc29253b Endgame monster gen tweak.
b5be3831e Revert "Increase wizard harassment by 20-25%"
adb2af0ef Post-invocation earthquakes don't happen in the planes.
ad0c15861 Elementals only get 2x HP on their home level. 3x just feels a bit gross now that we can't cheese them with bugles and whatnot.
8a96e90bc Passive fire damage burns away slime.
5c137e2b2 Dragon lairs have their own level sounds.
b58f5ed1e Magic cancellation protects against nightgaunt tickles.
cf0199be6 More specific msg for thing from below magic cancel.
d6ce1ceff Ensure bell of opening is corrodeproof.
89023049c Change color of mermaids to bright green. Before they were purple which matched the Thing from Below.
c04f72eeb Disable the ice/water levels in Gehennom.
d26154bcf Buff Sceptre of Might even more.
5311c7e03 The Sceptre of Might also grants steadfastness.
0a5302d61 Allow steadfastness to work properly.
864a23f9e Revert "Remove monster maximum difficulty limit with demigod flag set."
d842f926b Plague is a standard bow.
118fd6cca Doomblade is a short sword.
39e76a921 Quick blade is a silver short sword instead of an elvish short sword
cb99f0192 Serenity is instead a spear that grants +d20 damage instead of a silver spear with +d10.
5bf926467 Revert "Monsters with a negative AC get damage reduction from melee attacks."
c3806c8e3 Don't gift silver artifacts to vampires.
8f4264ec8 Increase difficulty of high level mumakil.
9e9438679 Revise the flinting process for arrows and flint. Previously, a caveperson could apply flint to arrows making them +1. However, if the player had less flint than arrows available, they had to match the quantities by creating their own separate stacks of flint. This always seemed very cumbersone to me so I refactored this so it doesn't matter and the flint will be consumed to however many arrows there are and a separate stack of un-flinted arrows is created.
24128a3a8 Auto-ID flinted arrows.
4c031061b Auto-ID kicking boots when used.
39aa28a84 Cavemen can reach skilled in unicorn horn.
e8ca7c784 Breaking rocks is now an occupation.
82aed4575 Start of a rock breaking occupation.
b2b88ef74 Couple small tweaks to muse wands.
7e256af0e Gray fungus passive triggers even if monster died.
a91708d56 Yellow molds puff out clouds of stunning spores.
91690793f Violet fungi get a passive hallucination attack. The hallucination lasts for as long as breathing the vapors of a hallucination potion. This works by having them puff out a cloud of spores, so for breathless heros, they won't be affected.
390c27366 Vampires can't handle garlic.
1b231d5c9 Blessed restore ability only restores a few levels (from EvilHack).
ff62282aa Giant praying mantis are not poisonous to eat.
2c07c27a2 Priests start with more garlic and wolfsbane. Similar to the undead slayer in SLASH'EM.
b0b18286c Fix: junk text in bigrm-15.
c9edbe4ae Vampire blood replacements.
753a083c8 More nutrition for potions of blood.
3677fd3cb Reenable branchporting while fuzzing.
5186dcc01 Add rivers to some quest fill maps.
537f439b6 Added rivers to caveman quest minefill levels.
657b7eb87 Teleport control is also temporary from eating corpses/jewelry.
fa7591b99 Add stalking behavior to pokedex.
8adba31ac Update NerfHack logo.
a14476e8d Adjusted spell hunger for wizards.
f782f72ce Fix: Hero could apply a worn item while Glib, making it slip away.
a4fbc6f55 Crowning grants a wish if no intrinsics were gifted.
63ecabe24 Add cartomancer to primary spellcasters.
bbfce6e6d Fix check for boots in grease trap.
768a3dbfe Rearranged caveman and cartomancer so caveman is always (c).
0d9bb7d5f Fix race_peaceful and race_hostile checks.
ba53399b5 Comments in role.c data.
3202ea40c Sanity check for peaceful non-aligned unicorns.
7b658be16 Weretigers are red.
307533d5f Berserkers get angry when stuck in traps.
314687215 Return Chromatic Dragon and Ixoth to vanilla levels. These guys are just too hard, Ixoth can already berserk so we'll leave it at that!
7cecc790c Fix: should skewer when we *can* see the spot.
3a348adc7 Skewering doesn't trigger most passive attacks.
dcdf7a7cc Prevent skewering spots we can't see.
de99c2d10 Cavemen prayers can also be ignored for water prayer and pet revival.
ad4a094db Harsher astral plane taming penalty.
d41b4821c Funny message for genocide in the endgame.
d8f828caa Potions of restore ability auto-id when quaffed.
1aa63a259 Levels of erosion on an object can affect its price (from EvilHack).
80376a327 Mud boots and water walking boots protect from slipping on grease.
5cbb9064d Withering can be cured by the Staff of Aesculapius and by quaffing holy water.
fb273bdee Ported HackEM updates to monster/object lookup.
aee28fca2 Initial port of object and monster pokedex from xNetHack.
ea106dbb1 Fix intrinsic resistance formatting and show extrinsics granted by artifacts.
b3008de3b Serenity doesn't cancel peaceful spells.
76786fd82 Raised difficulty of assassin bugs, lowered their sting to 1d8.
7341cb9f4 Projectiles thrown at adherers (by hero) will also stick to them.
dcf276c8e Fix: Candle shop region in lavender town.
06b91fcaa Don't get hurtled by ice-sliding in Sokoban. (I'm not *that* evil...)
deb3fc4f7 Adjustments to rogue counterattack; open to non-humanoids and bite attacks.
b0bc847c5 Revert "Ported more Japanese item names for samurai from SlashTHEM."
b6db65066 Wizards won't receive multiple spellbooks of magic missile.
e9a1bd132 The ring of levitation is a valid starting ring.
ee1c4e6a5 Added some mermaids to Fort Ludios.
1bb7f57b8 Misc map cleanup.
ea3654f16 Silence make_corpse warnings.
699b40136 Removed the outdated folder.
0a430ee1e Ported two Fort Ludios variants from EvilHack/UnNetHack.
06b726ce1 Ported bigroom variants from UnNetHack and SpliceHack.
a73730c69 Imported two bigroom variants from xnh.
0a4a34d43 Imported 3 mines end variants from SlashTHEM.
08334b0da Imported the Gnomish Sewer from xNetHack, written by Jonadab.
2b3c017e5 Destroying a town drawbridge in view of guards angers them (from HackEM).
c18567f4b Ported Creek Town and Mini-Castle town from SlashTHEM.
519ee1c80 Ported giant anacondas from EvilHack. Added one to Zoo Town.
534e63d9b Ported zoo town and lavendar town from SpliceHack.
200fff952 Ported Oracle variations 2 and 3 from SpliceHack.
2feef4d4b Ported the Temple to Moloch level from SLASH'EM.
8a63c0915 Ported the Lost Tomb from SLASH'EM - using SpliceHack's implementation for lua. Also ported shadows since they are a big feature of the map.
69ea38a74 Fix: mon_reflects checking possibly null orefl.
75e0f9405 Disable windows build.
0f8de9f38 More NetHack->NerfHack renaming.
1426410e7 Misc name/version updates to transition NetHack to NerfHack.
2356b6336 Remove declaration of leppie_stash (again).
1ba1eb714 Fix sadfeeling statement in monkilled.
d388499c8 Remove unused temp_givit().
0d6e73f5b Fix: Remove static declaration of maybe_explode_trap.
4ce96b02b Fix suspicious concatenation of banned cards.
76ea6eabe Fix static declaration of forget().
e2ad86e3a Actually fix declaration of Gloves_on.
bd554cd4e Remove static declaration of Gloves_on.
ae7685afb Remove unused fortune_lev.
67748a220 Fix: Temperance code couldn't execute in deck of cards.
c318ab3da Fix rank() declaration. Broke macos build.
f0d4f9561 Enabled vampire priests, archeologists, and cartomancers.
4f40b0154 Cartomancer mirror.
5a7505633 Cartomancer: update names for bags and boxes.
1799be2ae Properly implement reflection for carrying the Holographic Void Lily.
f9baa00f1 Added some assassin bugs to the cartomancer quest.
bcd08e0eb Ported assassin bugs (from SlashEM). Raised their level to 12 and they can now conceal themselves. Added a 2d8 sting attack also...
9c81ed2ba For cartomancers, gems and stones are tokens and dice.
f4e3814a3 Update effects for Deck of Fate, using more splice effects, discarding the most severe ones.
65808c298 Cartomancer: lock picks are worthless cards.
9dcf9a00e Revert: e82127438 Excalibur is much harder to get if hero is not a knight
6d37ce284 Vampires can't zap silver wands.
203b84253 Fix: Player vampires were not affected by silver.
89f7bc607 Refactor blood substition for vampires in starting inventory.
693942b7d From Un: Fix class of starting vampire blood potions for player vampires (reported by K2)
d0ffb4429 From Un: Flesh golem corpses edible for vampires (fixed ticket:59)
dd4f86c78 Fix some places vampirics were able to breath vapors/gas.
e7dfddc15 From Un: Prevent vampires from biting dangerous monsters.
c2561fa47 Set vampire's minimum attribute values to 3 like all other races (from UnNetHack)
0e468866e Lowered price of vampire blood to 300.
26012a893 Monsters going berserk cannot gain more than their max HP.
004fb9700 Clean up some NetHack/NerfHack naming reversions from the latest merge.
b34ed5350 Merge branch 'updates' into merges
047faa0c3 Fix: BREATHLESS listed and numbered incorrectly.
260d6d602 Fix: Rotten food items showing burnt status.
83c77f384 Vampires get hunger at level 5 instead of 1.
d49f9e6ce Fix: Vampire blood appearing as food in vampire starting inventory. This also fixes an issue found in fuzzing - breaking odd object (336).
15047d80e Update gitignore: backtraces dir.
13b9d2116 Fix: Could not wish for vampire blood.
84c4555f4 Ported the Inherently Evil mechanic from EvilHack.
acdcbfdfc Ported silver short sword (from SLASH'EM).
d7abb022c Silver weapons generate more often when playing as a vampire.
7eb5954f4 Vampires don't get sleep resistance.
7d8e287a6 Vampires get infravision.
ca66ed050 Port of the vampire race from SpliceHack/HackEM.
823c5918f Cartomancers get speed at level 10. This is sort of my lazy way of implementing the card combo technique from the original SpliceHack. This lets the cartomancer get a larger benefit though and the player doesn't have to do anything special, they can just cast more cards naturally.
886e694a2 Cartomancers can reach basic in saber.
cb89ecd0c Tweak cartomancer card drops.
4944b34e3 Cartomancer gets adjusted different item generation odds.
1ba9e558a Fix: Message for unseen monster slipping in grease trap.
2b6fb83d5 Fix: memory leak when summon card generation is skipped.
1a512835a Rare summon drops should be much stronger than usual.
42c138a7b Very weak monsters rarely drop summon cards for cartomancers.
debc03a85 Fixed some errors in the cartomancer quest.lua content.
9e43d1519 Spell beings only grant 1XP when killed.
acc8f7d0f Added some zap cards to the cartomancer's starting inventory. This ensures that new players get exposed to the zap card mechanics as soon as possible.
144ed1c28 Cartomancer starting inventory. Removed dagger, added a spellbook and two more summon cards. Fixed a minor error in the summon card listing (they had a spe specified by mistake.)
8cd8abea1 Cartomancer skill adjustments.
6f2bb7d04 Updates for cartomancer levels from Hack'EM.
e5ba5fbe5 Added quest text for the cartomancer.
4d9d3d2c3 Added duelists, quest guardians for the cartomancer quest.
7d412dd26 Cards only weigh 1 for cartomancers.
2602e24ef Added missing obroken check to zap cards so they don't identify all the corresponding wands.
840953b4d Ported wand of wonder from Hack'EM/SpliceHack.
a6e2a0504 Silence debugging for partial intrinsics.
62d3d601b Re-raised razor card to-hit bonus to +2.
ac805cc5d Adjust odds of zap card and razor card drops.
3f6731ed2 Cartomancers recognize the enchantment and BUC status of all razor cards.
de6955c48 Occasionally, monsters drop random summon cards for cartomancer kills.
b1bf325ed Cartomancers can receive razor card death drops.
61b93adab Properly implemented razor cards for cartomancers.
b3277abb3 Enable wishing for cards and rulebooks.
3d62ca594 Burlinate cartomancer quest leader.
0fc0cd66f New card types for cartomancer: zappable cards. These can also drop when cartomancers kill monsters. They act as one-use wands. These have a 0% generation chance so that other roles will not see them randomly, but they could see them in bones.
35671f061 The price of summon cards scales with their monster difficulty.
e4114dfb2 Shuriken weigh 4. In an earlier commit I made shuriken appear more often (with some soldiers), so they should not be as rare. However, they are quite overpowered when compared to darts. The weight/damage ratio doesn't compare at all, so they should have some kind of weight adjustment to compensate.
7a41462ee The camera is played as a holographic card for cartomancers, doesn't break when thrown.
697f8ee61 Fix from HackEM: c4e021d99 Fix: Monsters read summon cards and summoned random monsters instead of the specific monster type.
7528754c2 Ported playing card deck and deck of fate (from SpliceHack).
d4ec69324 Cartomancers can throw summon cards to activate them.
8759cdadc Implement spell beings and summon cards in conjunction with the cartomancers abilities.
08143f0c4 Terminology for cartomancer: playing and reading cards, appearance in the UI, etc.
67f9399b5 Cartomancer alignment penalty for polymorphing cards.
04251d3f5 Cartomancers severe alignment penalty for forging cards.
5fdec3a29 First stage of Cartomancer port, playable role (from SpliceHack).
b8c13e315 Ported over raw cartomancer .lua levels from SpliceHack.
10c56afd6 Ported the Holographic Void Lily.
53740614c Imported the King of Games.
41c1c5a4c Imported Dal Zethire.
93af75e79 Add cartomancer monster type. Included the mplayer setup, smell, and sounds.
e42df93b6 Update gitignore for patches.
885bf3a64 Clean up non-peaceful monsters in Soko.
231dbeecb Fix: Destroyed altars conduct wasn't displayed in #conduct.
02cb0558e The White Dragon *always* awaits at the top of the Sokobon.
b1be0e013 Slipping in grease traps can cause you or monsters to become paralyzed for a few turns and inflicts a small amount of damage.
f42e4f8fa Hints only appear on level one and occasionally on level 2.
961884ccd Attributes shows when player has not yet prayed.
070ec0a5f Fix: Blocking attacks could reveal the item type.
8cb2959f2 Crowning requires 13 Luck (from dnh).
51b130860 Gnomes can always reach skilled in crossbow.
abf7d1271 Show AC effects for padded gloves/combat boots; fix misc AC display issues.
99d955b31 Add race-based skill cap adjustments for all nonhuman races.
67540192a Acid potions cannot freeze on cold levels.
e5177d76c When carrying the AoY, extra monsters don't generate in the endgame.
e69c43fe1 Lower yellow dragon's passive acid.
2704f9d98 Lower dragon levels.
d8e04489f Demons can't be summoned on Astral plane from wiz harassment.
f0062deac Revert "Half physical/spell damage nerf."
f3ac2d518 Revert "Confused scrolls of gold detection no longer detect magic portals."
322d0d865 Revert "Water Elementals can now engulf and suffocate."
b41b41d1e Like-likes can generate in the main dungeon; raised difficulty.
ae817fc1f Vlad gets stoning resistance.
70fac99d8 Merge branch 'merge' into dev
cf91435ef Add some secret doors to Master Assassins lair.
8a2654e01 Master Assassin buffs.
d99f958fc Misc NetHack -> NerfHack updates.
181606da8 Update files.props to include new Soko levels.
8adb6c5ad Fix: heap-use-after-free in trapeffect_magicbeam_trap. Fixes #31.
7daae3c4b Crossbows no longer grant multishot, instead increasing damage.
b9188a711 Spheres cannot be genocided.
be12311b6 Make monsters prefer bardiche over other polearms.
42dfc5efe Peacefuls don't zap/quaff invisibility.
dd5f05b7d Database entries for new monsters.
30ab634ec Fix: possible null uwep check in find_roll_to_hit.
ec259b2d6 Fix rogue counterattacks while two-weaponing.
6cb3befe8 Increase length of string prefixes for objnam to avoid snprintf overflow.
a478781e1 Merge branch 'updates' into merge
6484c9b49 Relocate check for gems hitting thick skin. Fixes #30.
82dd64506 Archeologists always get an extra id when reading scrolls of identify.
1c8f5ab03 Barbarians get a blood rage bonus for low health.
f75774dcb Fix: angering peacefuls wasn't removing underlining.
b007b8b87 Fix: heap-use-after-free when long worms are slimed. Fixes #29.
a5af275b7 Handle morning star and flail stunning in hitmu. Fixes #28.
c01202eda mon hiding under nonexistent obj (fmon). Fixes #27.
eb4233140 Wizards always start with the spellbook of magic missile.
734a16043 Wizards start with a cloak of protection instead of magic resistance (from SporkHack).
16574e3a8 Tourists start with all of their optional equipment (from FIQHack).
e589376de Archeologists vs snakes.
53c6df5fb Archeologists can reach basic in axe.
ca583e428 Archeologists start out knowing dwarvish mattocks.
8c53c1417 The Orb of Detection grants clairvoyance while carried.
d39560d01 Monks lose crossbow skill, but can gain expert in quarterstaff.
5561bad46 Ported the hint system from UnNetHack.
5ea60c8c1 Fix message for using Origin.
99f9cf282 Rogues can't counterattack while wearing a bulky shield; updated some of the bulky flags for shields.
161f61ee4 Update README, link to changelog repo.
cb6f97237 Samurai get a bonus for twoweaponing a katana with a wakizashi.
0d9218943 Allow rogue counterattacks on claw and kick attacks.
500d46812 Samurai quest updates.
3e8a5fbd3 Enlightenment always shows the partial % for intrinsics.
d442c8320 Allow special weapon effects when two-weaponing.
0be868420 Ported more Japanese item names for samurai from SlashTHEM.
f9ecc4477 Revert: Food items cannot be rotted/burnt.
7b63e3da6 Revert "Altars and forges won't start appearing until after level 4."
dde204d0e Factor racial bonuses/penalties into AC display; refactor race bonus stuff.
1c6bf9fe0 Grease traps can appear with no minimum difficulty.
579e552f8 Knights can reach skilled in mace and morning star again.
565b09a22 Remove the two-weapon and wearing shield restrictions from the rogue's counterattack.
c18672944 Buff werewolves and weretigers.
ffcdd6dee Soldiers can generate with shuriken.
a58e2e4d4 Halve smoky potion djinni.
43c30512a Armor displays it's AC value (from SpliceHack).
7af7ef148 Rogues also get a multishot bonus for knives.
efc50cfea Remove tohit penalty from scythe.
9a2cf705c Scrolls of confuse monster auto-id when read.
c33decc52 BUC identify wands when they backfire.
3f143fd9c Silence unused variable.
067975c50 Wielding and unwielding curved swords takes 0 turns.
69f17d8ca +4 to-hit bonus for attacking with a scimitar on a steed.
bc383ebde Rogues can counterattack with knives and daggers.
185be718c Bump the rogues stiletto from +1 to +2.
9e564e7ba Rogues get bonus backstab damage when using stilettos.
9c5d51a05 Rogues start with a stiletto instead of a short sword.
10279d5a7 Rogues start with a stack of knives instead of daggers.
a4f6380bd Fix: Impossible in losestr due to 100% poison resistance. Fixes #26.
5d4b05406 Fix: entomb spell could drop boulders in invalid squares. Fixes #25.
cbe6ae270 Followup fix to bc59dbf86. The previous fix caused object sanity errors in cases where we were not unpunished.
2abbcfca6 Morning stars and flails can stun monsters on critical hits.
f4fbbdc80 Change all quest guardian colors to cyan.
53106ab30 linux-debug update.
87d2449d9 Update lua version in yml.
8a8481364 Fix tile number for valid position.
e9a8fe0d3 Amulets of magical breathing are immune to water damage.
09853f649 Remove extra prompts before starting fuzzer.
bc59dbf86 Fix: heap-use-after-free after nymph steals chain. Fixes #10.
23c50be04 Merge branch 'updates' into merge
3db166d2b Priests can reach basic in riding skill.
1128e9d74 Fix: immune_to_trap: bad ttype 25.
72c465666 Fix: sloppy implementation of the bardiche beheading.
9ca1d8d66 Fix null obj check when checking bardiche hit.
aa91b43b9 Spetums can skewer up to 3 monsters.
e6d6379b8 Bardiches have a 1 in 100 chance of beheading monsters.
b2fc8f0eb Archeologists can reach basic skill in spears.
03e076e75 New artifact: Serenity.
89590b750 Samurai can reach expert in spears.
717172545 Rebalance knight skills.
2769db9f2 Spears at expert skill can skewer through enemies.
7a8987d55 Ransuer refinements.
82f9a9d79 Ranseurs can disarm enemies (suggested by disperse).
cef23e9eb The Lenses of Truth confer stun resistance when worn.
9766ebb25 Mumakil buffs.
39ee9ad8f Rename hackem.rc.
76bf1fbd8 Autocomplete #twoweapon.
f2160a7a9 Message when player can't gain more max HP.
0d4afc81f Show altars cracked in #conduct.
d3442202b Mouser's Scalpel's bonus doesn't apply if you are confused or stunned.
10eafb3c3 Ixoth gets poison resistance (from EvilHack).
4967aca3f Fix: Mouser's Scalpel redundant hit message.
523d24a9d Potion HP gains use max level for ceiling.
b5d7b8d29 No iron bars before the Soko zoos.
55e71b054 Even less ice in Soko.
043355584 Receiving gift on a cracked altar.
c8e159b94 Elves get see invisible at level 8.
fe0876e53 Fix: You are freezingto death message.
e78d836b0 Fix: gnomes (monsters) could not wear gnomish suits.
006568947 Fix: #loot to give to pets was broken.
18555e70f Fix: Non domestic pets could still help shop steal.
eb5ffa08c Ported Lolth from EvilHack.
bc2baf6c2 Ported Kostchtchie from SpliceHack.
71d824637 Ported Buer from SpliceHack.
c793f53d0 Ported Baphomet from SpliceHack.
648d52b9e Ported Malchanthet from SpliceHack.
e27dbfc51 Ported Mephistopholes from SpliceHack.
76f070368 Fix gray tile mapping issue in like-like.
9530d5123 Summon demon lords/princes when you possess the Amulet of Yendor.
8d9bc2647 Fix unix filenames.
2d84f5ead Update .exe filenames for consistency.
5808a9bec Update internal name.
3fec33565 Food items can get burnt but not rotted.
4be0cca74 Revert "Food items rotted from effects also trigger the rotten food effects."
2865e1c72 Fix elven cleric tile.
ce794b874 Rename project to NerfHack.
72be51bfe Medusa reflection, extend range 1 square.
1fec01805 Fix: broken portal between castle and wiztower.
0d05ed5f2 Fix: cannibalism check for orcs was incorrect.
42d04faa0 Update database.
42db1353e New rumors.
267adfcf9 Shades get a little MR.
aafe98a8e Orcs get a cannibalism alignment boost (from dNetHack).
c1b5e5909 Caveman cannibalism msg from dNetHack.
322b93d42 Disintegration rays can vaporize boulders.
dee420ca2 Polytraps disappear with 1 in 7 chance.
01b7d109f Altars are always cracked after level 15.
b8c7fd40e Match see invisible message for rangers to elves.
8cd0bf053 Fix: Bad supermaterial check in dipforge.
4a77ccfe4 Green dragon scale mail also grants regeneration.
492fb3f74 Foocubi gain a level when draining one from the player (from xNetHack).
f59f1a59f Revert "Spiritual attributes shows when you last made a wish."
8366475ca Fix: Forges could erodeproof already fixed items.
6fa9c21ee Ensure healer quest gets adult dragons.
afe8fdb79 Raise elven cleric difficulty from 11 to 13.
0e8a00e86 Fix: Vorpal Blade was bypassing behead attacks.
931a9b2e8 Fix: missing sokobon flags on some Sokoban levels.
70e6b9791 Player race elves get see invisible at level 19.
017ba12ee Baby white dragons are weaker.
cf3cedf24 Baby gray dragons also flank.
9cc88f4c6 Baby yellow dragons also get a passive acid attack.
b85a42686 Baby green dragons are slightly higher level and difficulty, and regenerate.
05e4bab60 Fix: Jumping monsters won't leap at you if you are in sanctuary.
879bd34b0 Fix: Monsters won't wear armor their race hates.
28f4eb110 Berserking monsters never flee.
e8480ea8d Lessen confusing messages for confuse monster effects.
fde72eaa2 Fix: non-metal helms could be broken by piercers.
9a932ab98 Revert "Replace spell retention percentages with exact number of turns left."
3eec4dcde Confused scroll of identify gives enlightenment (from xNetHack).
665e456e6 Partial resistances.
e8b68c160 remove register that snuck in - paxed
6b31c1a63 Giant courts sometimes have tinning kits.
b9b38760b While the player is carrying the Amulet of Yendor, monsters flood from the upstairs.
1f3384e46 Vlad's location has a *little* variation.
dbdb395b0 Increase wizard harassment by 20-25%
f1d0a89de Stairs to wiztower takes the place of a fake castle chest.
1c273eb77 All hell fill levels are either hot or cold.
c570d5714 Trim out some of the blocky hell mazes.
7affdfc3f Change the portal to the wiztower to a stair up.
cb066ac82 Move the wizard's tower just below Medusa's.
c1a0978fe Remove other fakewiz level; move portal to the wizards tower to the castle.
ae161ccaa Shorten gehennom.
5d53ba541 Move the portal to the wizard's tower just above the vibrating square level.
0d9910b1e Remove the fake wizards tower.
51af182cd Move Vlad's Tower stairs right below the VoTD.
ebd7382db Remove all demon lairs.
57637fbf7 Monsters in giant courts and real zoos are always hostile.
243b8a0be Dragon lairs are red.
292698ec6 Giant throne rooms are also bright magenta.
6a9ed7d8e Real zoos get special coloring.
794dc5019 Special coloring for swamps (from SpliceHack).
7b2ed8d03 Special coloring for morgues (from SpliceHack).
160cdff81 Remove purple walls from wizard's tower.
59a9ccce0 Restore color to the valley.
f61477d5e Fix: defunct levitation boots on Medusa's.
5e3c40fc9 Recolor landsharks to bright blue.
66f992786 Gray dragons can flank.
4f75827ea Dragon scales can sometimes appear in dragon lairs.
b4adaea16 Shimmering dragons get teleport control.
f8e256f28 Green dragons regenerate.
eb22a8108 Refactor, unify, and nerf item destruction
0ae2d14c7 Remove erodeproof check from destroyable.
e88c8617d Black dragon roar tweak.
91a6e96b0 Fix: Partial reflection broke from recent vanilla merges.
55f2687b8 Black dragons get a terrifying roar.
e6843c59d Orange dragons get a engulf digestion attack.
dcf377c9f Yellow dragons get a passive acid splash attack.
89048d43a Put a white dragon in Sokoban's Dragon of Bactria level.
2fb90960f White dragons are weaker than other dragons.
df410803e Green dragons are slightly higher level.
f9904589b Fix: dipping worn non-metallic items into forges.
846dfef72 Fix: Food and candles can't generate rotted.
787dd6fab Remove erodeproofing destroyable items bits.
d61f3771f Expand the zoo on soko1-2.
fee9a61e6 Expand the soko1-1 zoo and added iron bar windows.
153fb4b97 Not so big dragon in The Dragon of Bactria.
dd5fba3a2 Even less ice in Soko.
bbc0f36fe Fix: Zoo monsters weren't generating in Soko.
82520141c Being polyd into a non-living form protects against the blight spell.
65e3b5e16 One less todo.
89035ea6f Auto-id flint from applying rocks.
fe61cf665 Unskilled unicorn horn/healer buff.
67554a07b Fix: obfree: deleting worn obj when musical instrument breaks.
281296640 Rusty tin openers can break.
c730df910 Applying rusty stethoscopes.
981d90eb7 Playing eroded instruments.
ac5bd7888 Eroded unlocking tools have a chance to break.
049c429dd Grease wears off less often.
21a6d94b6 Food items rotted from effects also trigger the rotten food effects.
231aee2a2 Some foods and corpses can't be rotted by decay attack or poison gas.
189fae6f5 Almost all items are erodeable/destroyable.
827815502 Refactor, unify, and nerf item destruction (from xNetHack)
799efcae7 Add info and credits about various changes.
81e9e3eac Reformat artilist.h.
502408857 New room: dragon lair (from SLASH'EM).
54bc1ebcf New room: giant courtroom (from SLASH'EM).
20623fee2 New room: Real zoo (from SLASH'EM).
796209383 Enable full options via O by default.
5c69ec418 Enlightenment messages for steadfastness.
89caaba84 Players can use gaze attacks in melee range when poly'd
753e45e1a Fix: Soko ice wrote over Soko branch stairs.
238b6b185 Room colors patch.
64c5b2086 Fix: intrinsic telepathy could not stack.
7c716846e Fix inverted teleportis message.
6bc293f1c Intrinsic teleportitis is temporary.
0faf539e3 Altar cracking tweaks.
d1852db68 Fix: Enlightenment statuses for Werebane, Giantslayer, and Disrupter.
a65979555 Allow dual-wielding artifact weapons.
ddd6676ba Replace undead on Astral Plane with random A (from xNetHack).
df7cffc14 Load Brand buffs.
5793b1f74 Revert "Holes and pits that are filled on cold levels are replaced by ice instead of floor tiles."
89d54bebe Revert "Filling up holes on cold levels."
a1b275418 More concise blocking messages.
561507f46 Lower most dragons to base level 16.
fc31e7db7 Red dragon tweaks.
ccdec6913 Dragon scale mail weighs 80.
b88596217 Reorder deeper/deepest one by difficulty.
42693dabb Label bullwhips and boomerangs as whacking weapons.
a0fcbb77d Fine tune dragon attacks.
fb2ba7205 Reverted many of the monster AC buffs.
fa44ceada Revert "Trolls don't leave a corpse when wielding Trollsbane."
11bdbd53e Tone down call undead a bit.
9ddc22e36 Mjollnir can be invoked for a lightning bolt (from xNetHack).
47d79b777 Frost Brand instakills water elementals.
c45e784af Attacking with Fire Brand cures sliming.
be66d6c25 Fire Brand instakills highly flammable monsters (from xNetHack).
afa1c6347 Match dragon scale mail with scale mail ac.
d08f865c2 Fix a couple gaze prevention checks.
f021d8a99 Don't cast entomb if it hits the spellcaster.
2201820b8 Remove permanent telepathy from pat_on_head gifts.
aec6189b7 Crowning intrinsic tweak.
ca4ae0173 Reword blocking messages.
cb617e5a2 Reduce deepest one difficulty a little more.
cdf1e500e Lower difficulty of deeper ones.
eb3249678 Baby dragons don't spawn in gehennom.
abac30ae9 Adjust adult dragon difficulty.
b2b6d827d more conversion cracking
c8bf36b1b Fix: peaceful underline after statue trap trigger.
414c58216 Less chance of ice when filling holes on cold levels.
b7631ea23 Small monsters can very rarely be stomped.
ea5a28be2 Stomping refinements.
c8923e455 Xans can't fly anymore (from dNetHack).
88e8b1214 Scorpions are tiny.
773f77289 Jumping spiders are also webmakers.
be779ec9f Fix: Various issues with stomping vs stealth.
dc3c88b9f Display stomping status in enlightenment screen.
06ab38c49 Fix: Update monster symbol after it goes berserk.
da6c2abb9 Removed instakill for Sunsword.
a2215b0ea Consolidate instakill variables for banes.
daf861e3e Dragonbane gets an instakill vs dragons (from UnNetHack).
8048ed9f8 Slinging rocks can't instakill uniques.
e75b5d051 Giantslayer and Sunsword can't instakill unique monsters.
38dd4eef9 Elven gear weighs less (from EvilHack).
458cbb751 More fire traps on valk quest.
f41ca2f9f Ixoth can berserk.
866c2ebd4 Lord Surtur and Cyclops can berserk.
ba154e444 Increased Mjollnir's wakeup radius.
2efd443af Fix: fire bolt/ice bolt/acid blast damaging on miss.
1a9c431e8 Filling up holes on cold levels.
b8014ac76 Potions can shatter when dropped on cold floor.
7fb0f7dbf Less ice in soko.
e71203f89 New monster: elven cleric (from EvilHack).
d7e6e2176 New monster spell: entomb (from xNetHack).
f64485355 New monster spell: hobble.
a4f016216 New monster spell: call undead (from SLASH'EM).
ee3498a83 Ported the blight monster spell (from xNetHack).
1f3ef57cb Evil eye can only be cast by undead and demons.
632614146 New monster spell: Evil Eye (from dNetHack).
c662003b2 Ported God Piercers (from SpliceHack).
40590a38a Imported deep ones and deeper ones (from SLASH'EM).
842f6bd1d New artifact: The Lenses of Truth.
f91004c48 Fix: null check when forcefighting checks boulder.
f146d4982 Merge branch 'update' into merge
4603f0e8b New item: gauntlets of force.
707b2a698 Grave trolls can spawn in graveyards.
a27efbec0 Grave trolls can appear when digging up graves.
a8189da46 Disturbing a grave at higher levels can summon a ghoul mage.
11c7c59c2 New monster: grave troll (from SpliceHack).
44c8226b7 New monster: ghoul mage (from SLASH'EM).
cf831a5d2 New item: anti-magic shield.
fc0244294 New monster: shadow ogre (from SLASH'EM).
367e9a954 New monster: ogre mage (from SpliceHack).
6039ce3b4 Tile for glob of like-like
81b318d8d New monster: like-like.
4e824fa75 The Longbow of Diana confers reduced damage when wielded.
d4c729c30 Knight quest gets a bunch merfolk.
96ccc0c17 Baby dragons weigh less.
6d55ce12c Raise diamond piercer to level 12.
7fa6622bb Splice jumping spiders.
2d248ceb8 Alhoons can displace monsters.
76c871774 Kamadan can jump.
09acac917 Things from below can see invisible.
34ad743bf Removed M2_FEMALE from merfolk. Unnecessary since they can be either male or female.
998e2bc20 Lava demons are huge.
d40ab31f0 Update title in dumplogs.
28222134f Use resists_death in a few more places.
1f4681db4 Make yellow and black light explosions directionless.
2a47582d9 Couatls get a stunning gaze. They are rumored to be stunningly beautiful...
02d2e3b88 Couatls can generate invisible.
50a81f0a5 All vortices (v) resist shock damage.
1faccffb6 Minotaurs and titans resist death magic (from SLASH'EM).
a6c7a84a6 Quest leaders resist death magic (from EvilHack).
d4ab6fb93 resists_death macro. Angels are labeled with an angel tag now.
27e50a6e7 Ettins count as giants.
b1fdfd472 Holes and pits that are filled on cold levels are replaced by ice instead of floor tiles.
553facc20 Sokoban levels are cold and icy.
393d03f2a Caveman quest updates (from SlashTHEM).
736dafec2 Added spear traps and grease traps to the level parser.
d710a2cd5 Kamadan get poisonous bites.
00223e7c6 Kamadan are light green.
978cac427 Tigers are orange (from EvilHack).
f635bcbc4 Monsters show withering status on farlook.
7dff9eece Fix: Spear traps had inverted luck check for awarding spears (found by mobileuser).
2da04e03d Fix: Boulders from falling rock traps had difficulty check inverted.
93ab95218 Baby dragon tweaks.
b566d6db1 Partially Revert 5c7c9d10a - Rejigger anti-magic traps.
8c3209872 Wielding Origin also increases anti-magic trap damage.
eb0ffd89d Half physical/spell damage nerf.
40dce497f Fix: cross aligned unicorns generated as peaceful.
732579be0 We can't help pets flank when we are unaware (sleeping or fainted).
2bfa9b0c5 Fix: Taking off stomping boots caused null check on uarmf.
e65a175a5 Revert gnomish helm/boots ac.
26d47dfe9 Fix: Tourist shop identify was requiring an extra turn (again).
4be296a60 Ported Snakeskin (from SlashTHEM).
11137c654 Ported Blackshroud (from SlashTHEM).
f9c46e258 Ported Mirrorbright (from SLASH'EM).
fa5f4fd8c Ported Deluder (from SLASH'EM).
2323ba386 Ported Whisperfeet (from SLASH'EM).
e1f705353 Introducing Mayhem - chaotic artifact stomping boots.
502d6d9b7 Confused cursed destroy armor prompts for armor to fix.
c1956060d Fix: Kop Sergeant MH_HUMAN tag misplaced.
ef05e0ce1 Baby dragons get a claw attack.
2a86baaa9 Baby black dragons get a drain life attack.
962f402f4 Baby gray dragons get a disenchanting bite.
6c966441d Baby dragons get a special bite attack (from K-Mod).
1ac8e66f3 Fix: unknown lycanthrope Kop Lieutenant.
f54b4071f Medusa buff.
dc6056d66 Auto-ID potion of acid when dipping lichen.
a50134b0e Elven archeologists are open for business.
71a6cb087 Bane artifacts can instakill their associated monster types.
121a0e823 Adjust altar #offer odds in favor of the player
ae92d84c6 Spear traps can be untrapped.
fa08b3b63 Werebane provides protection from shapechangers when wielded.
df1369758 Use DFNS for rest of artifacts.
b9e5e6941 Replaced levitation boots with flying boots.
db14ad38a Fix: Inventory items don't show (worn) correctly. Fixes #22.
348eb3c8e Reset invweight check.
f584db895 Vorpal Blade provides warning and glow vs jabberwocks (from EvilHack).
fc57a85ba All banes glow red in response to their monster types.
31dc2882e MH flags cleanup.
3e886f44b Ogresmasher provides warning vs ogres when wielded.
cb445652f Trollsbane provides warning vs trolls when wielded.
561c28448 Giantslayer grants warning vs giants when wielded.
264394573 Werebane provides warning vs werefoo when wielded.
c3ff2a76f Demonbane grants warning vs demons when wielded.
08e96a516 Dragonbane grants warning vs dragons when wielded.
784ad89b3 Converted M2 race flags to MH flags.
111f0b43a Fix formatted string when engraving with wand of magic missile.
6bcc53ecf Fix order of statements when disintegrating scrolls.
21e6793cd Fix mac build, attempt 2.
bbbccec9f Fix mac build, attempt 1.
7af5f6246 Jellyfish get a passive paralyzing attack.
786532331 Possible vampire mage guarding Rodney.
8ce6b7ef1 Guaranteed thing from below guarding Rodney.
40453e3e6 Athol tweaks.
d082d60ef Lower athol difficulty.
64be83421 Chromatic dragon and Ixoth buffs.
96877845a Re-fix wand engraving auto-identification.
efe7cf558 Reduce frequency of lizards slightly.
239754f44 Reduced deepest one difficulty slightly.
41a7f5b30 Removed shapeshifter flag from vampires
ee126c1ec Horned devils get a butt attack (because horns).
195d7e85f Kamadan get infravision.
7a3dcd491 Ettins are vulnerable to sling damage.
e37d2db92 Fix: m_harmless_trap wasn't handling other new traps.
552ad073c Fix: m_harmless_trap wasn't handling grease traps.
b4dec740a Merge branch 'updates' into merge
f25444daf Merge branch 'babydragons' into dev
83af10c77 Remove the mysterious force from the game (from xNetHack).
5e069e151 Alchemists perform alchemy.
b1687c28a Sceptre of Might buff.
9a8264b08 Fix: acid resistance wasn't protecting against acid blast.
e095be3c6 Minotaurs have a thick hide.
ce4d22f86 Unrestrict sling strength bonus.
478183e10 Explicit summon nasties message when it occurs as part of wizard harassment.
a69522461 Message for armor resisting destroy armor spell.
2cd14d580 Fix: enchant armor prompt ignored 'no' when asking player if they wanted to forfeit the scroll effect.
86739bb94 Red dragons berserk.
722ef4487 Dragons, nagas, and golems don't balk at approaching as much.
7b2418986 Unify keeps_distance with m_balks_at_approaching.
4a79e48b3 Fix: flint stones listed at top of Vlad's Tower. Should have been just 'flint'.
d429e895d Shorten floating eye paralysis, wisdom limits duration (from DynaHack).
71ef4106d Skeleton/shade slow attack is ineffective vs undead.
7c0e7a2e7 Double the candles mines gnomes get.
2f41a4be7 Revert "Healers get poison resistance at level 5."
00a7e89a6 All werefoo in animal form get infravision.
fa5de1545 Removed infravision from dwarves, elves, gnomes, and orcs.
a744c94a5 Fix: 'Your gets covered in grease.'
2b42524f8 Water damage may disintegrate scrolls (from DynaHack).
ed8543c53 Demonic bribes are much more expensive.
b529969ea Pets never displace player from stairs when entering a level (from DynaHack).
5649a86ba Show messages for objects that are randomly cursed (from DynaHack).
abf44d823 Show warning level 0 for very weak monsters (from DynaHack).
6f988d6b8 Give enchant vibrate warning for all weapons/armor (from DynaHack).
b4e2c75da Wielding Giantslayer conveys 18/** strength (from DynaHack).
d1e7c46e2 Show available skill slots in #enhance menu (from DynaHack)
5e8568e0f Wishes no longer increase prayer timeout
e572c20a6 Stop wraiths following across levels (from DynaHack).
b461f76fb Blue dragons are faster.
aeb02a81b Adult dragon buffs (from SLASH'EM).
cee858444 All baby dragons are level 4, difficulty 5, and can appear randomly in the dungeon (from SLASH'EM).
e3e8135f3 Update frequencies for glass and diamond piercers.
5fe21ef96 Doomblade deals d20 damage.
a6e168e17 Giantslayer is a spear (from EvilHack).
6f2924ca4 The Tsurugi of Muramasa has a 10% chance of bisection (from SLASH'EM).
a3eb9302e Revert "The Tsurugi of Muramasa grants half physical damage when wielded (from EvilHack)."
35ca88462 Vorpal blade gets a 10% chance of beheading instead of +d8 damage.
ba09a6d42 Jumping monsters also can't jump through water walls.
f64024943 Fix: Jumping monsters could jump through iron bars.
ed473cd0c HP gains from healing potions are subject to nurse dancing limits.
b3190af96 Hezrou and steam vortices don't leave clouds unless they moved.
2c2915281 At higher levels, boulders can drop from falling rock traps.
a4b0524cd Remove the guaranteed ghosts from the valley of the dead.
d22e908c7 Healers get poison resistance at level 5.
8e03b3060 Fix: adherer passive could trigger even if hero missed.
7c8dc1f17 Fix: adherer passive dropped item before making it stick.
2859dabee Fix: monsters can't use hidden mimics as flanking partners.
bab5b738f Using a towel to remove grease gets it filthy more often.
a9b3db386 Fix: jumping boots had incorrect message when taken off.
4202d24b0 Cavemen can receive slashing/piercing weapons gifts again.
c5ac67941 Tooled horns auto-id on use.
3acaf969f Castle courtyards are unlit.
3447ed336 Better odds of giant corpses conveying strength.
cae7c8771 Converting an altar can crack it. This occurs when hostile minions are summoned.
399a45266 Greater chance of hostile minion appearing when converting an altar. Especially if the altar is in an occupied temple. From SporkHack.
bd52333a4 Altars sometimes generate cracked.
752e316c3 Mummy wrappings always generate rotted.
d27d0d9ea orcish equipment is usually generated rusty and/or corroded
14ddd0c5f Dwarvish items frequently spawn as fixed.
6dd6a5cbe Fix: Non giants could be instakilled by slinging rocks.
b64fe2d49 Fix: Slung rocks could show giant was 'crushed' when we couldn't see them.
52c1a6a17 Messages to clarify rocks don't harm thick skinned monsters.
c0e503f25 Rebuff wounded legs.
71bf68c96 Hidden monsters cannot help flankers.
fc0e1fa62 Throne wishes have been removed. To compensate, full recursive identify of items can occur if the player has enough luck.
a349be702 Fix hit messages for Keolewa.
f284580df Thrown potions of acid can corrode items when they hit a monster or the player.
557d74336 Magic traps can now destroy armor.
6eb506ffc Keystone Kops are tougher.
eb2f83d65 Kops cannot be genocided (from UnNetHack).
7dc1d3941 Mordor orcs can spawn with orcish boots.
39663ea9a Humans can also use items also.
1a384b69c Shopkeepers start with more gold. This is to ease the change restricting pet theft. With more  reliance on shop trading, this should help quite a bit since shopkeepers should usually start with more than double the usual amounts.
7e6ec6ee9 Prevent Cleaver from cleaving peaceful bystanders.
28ada92af Increase chances of getting a golem from polypiling (from SporkHack).
328a862cb Nightgaunts' tickle attack is unaffected by magic cancellation.
a843e6cad Lighting shop item probability adjustments.
8f22641eb Randomly reduce +X on polymorphed objects (from SporkHack).
6962fa84c Orcs start with sickness potion (from SporkHack).
286659785 Fix: gnomes were not getting standard equipment. I actually discovered this bug by accident while perusing sporkhack changes!  They had also added gnomish equipment, but in the process hijacked the regular path of execution so that the default case for equipment was not reached. I had to make a bit of a kludgey goto, not the most beautiful thing, but probably the simplest.
8572cfc1b Gnome lords and kings always get gnomish suits. Gnomish wizards always get a gnomish helm. Tweaked the probabilities of the gnomish equipment a little more.
810cb05f4 Gnomish boots and helms provide 1AC.
313413a98 Monsters cannot berserk if sleeping or paralyzed.
47eb46306 Wizard skill adjustments.
44ec2fbc4 Less gnomish equipment.
b88861609 Knights start with studded leather armor instead of ring mail.
5331702c2 Opened up a bunch of race/role combos.
888af7f15 Fix and refactored the hates_item macro. This had a bunch of stuff wrong with it. Now we have appropriate checks for players race and poly, and separate checks for monsters. At this point I still think the code is a bit messy, but at least it's easy to understand. Refactoring may still come in the future.
bf64b95af Fixed monster racial armor bonuses.
19358aa92 Magic markers cost 500.
988d18100 Armor weight adjustments.
a84b55063 Monster will avoid items they racially don't like.
dee9c1f09 Monsters benefit from the racial armor bonuses.
1350494dd When throwing items your race dislikes, they have a 1 in 7 chance of slipping. This is the same as a cursed or greased projectile.
ab5b6e402 Player race gnomes get an interesting tool.
cdc91fbea Gnomes get stealth at level 5 (from SLASH'EM).
81acc66df Ported gnomish boots, helms, and suits from SlashTHEM.
3bdccd0d0 Wishing for quest artifacts doesn't use up a wish.
338b8c345 Ported orcish boots from EvilHack.
cf4c191cd Racial preferences for armor and weapons. This is an idea I've had bouncing around for a while - to extend the racial mechanics. The current racial armor bonuses came from EvilHack and I really enjoy how they work. In this commit, we start to penalize cross-aligned racial armor and weapons, or in simpler terms - items your race hates.
78352d4d3 Confused scrolls of gold detection no longer detect magic portals.
cf29669ad Strength gain nerfs. Giant corpses have less of a chance of conferring strength gain (from 50% to 17%).
12e0ab3cb Trollsbane grants regeneration while wielded.
1c2aa6d4d Reduce probability of long swords generating.
55d667622 Soldier and mercenary buffs.
04d3ede94 Ice devils have speed 8 (from 6)
0bde0e1de Pit fiends have speed 8 (from 6)
4f87ccb0f Elvenkings gets 8AC (from 10AC)
e0ce77ab2 Elf-lords get 9AC (from 10AC)
fd38dcd23 Iron golems get -6AC (from 3AC)
71cab582b Glass golems get -2AC (from 1AC)
4875a3292 Stone golems get 2AC (from 5AC)
bfa15458e Clay golems get 5AC (from 7AC)
03f43b050 Flesh golems get 8AC (from 9AC)
1920f9432 Skeletons get 2AC (from 4AC)
aabd6b9b5 Ogre kings have 1AC (from 3AC).
3a94a4b80 Titans are level 17 and get -6AC (from -3AC).
206c81664 Storm giants get -1AC (down from 3AC).
bcb88107f Knights start with a +0 studded leather armor instead of a +1 ring mail.
07744116d Decrease the protection that can be bought from priests or granted by your god.
51d642f8a The Heart of Ahriman now grants slotless flying and displacement instead of stealth.
88cb020de Remove SPFX_SEEK and replace with SPFX_FLYING.
4344eeea7 Soldiers now cannot load both types of food rations. From K-Mod.
dfd5259f6 Falling downstairs does more damage. 2d3 instead of 1d3.
c7afa2a4d Further reduce the damage gems/stones do to thick skinned monsters.
6f10561d7 Nerf: Reflecting Medusa's gaze.
6784b89d6 Reflection only provides partial protection from floating eye gazes.
e6a0b5559 New artifact weapon: Load Brand.
375a6dc85 Wands of nothing cost 500.
a686f4ef8 Wands of wishing only generate with d2 charges and are always precharged.
6b4072e90 Alhoons are not covetous, but they are now faster.
e871e4884 Darkness offers protection from gaze attacks.
422eaf096 Displacement protects from gaze attacks.
803e9efca Invisibility protection comment rewrite.
c49c5ad0c If a gazer is in melee range, it will bypass invisibility protection.
a88ca3c15 Invisibility protects from gaze attacks.
8ef6b5e48 Better blinking eye attack handling.
be2d80f1b Peaceful monsters won't cast make invisible on themselves.
8ef53decb Adjust iron bars in castle.
668b54b2a Uruk-hai shields are included in orc armor bonuses.
163e24e61 Mon spellcasters prioritize healing when wounded.
6122e1e09 Aggressive steeds.
3e1769e7a Revert "Restricted or unskilled throwing has a chance of weapon slipping (from UnNetHack)."
f53fc03ec Bump up quasit difficulty.
d90c65f30 Revert "Feedback when using unskilled or restricted weapons, or non-weapons (from EvilHack)."
3ab3d3120 Vorpal blade grants see invisible while wielded and deals an extra d8.
5932ee149 Crowning gifts are only granted when crowned, never for #offer.
0c45c8227 Lower zombie revival rate.
675f447e7 Fix: zombie corpses were not rotting away for priests.
4f6a02e05 Fix: magic whistle was not auto-identifying on use.
d478c3788 Healing spell effectiveness is determined by skill.
66e52295f Crowning also has a chance to grant permanent telepathy.
45ce2ef3a Tigers can also jump.
c3605417d Weretigers can jump in their animal form
573a8bf26 Nightgaunts are purple.
8c68046c9 Byakhees are yellow.
8a440d29b Fix: Passtune radius had been reset to 1 instead of 2. This change must have been reset by a vanilla merge.
8d3ff3bb7 Fix: quarterstaff spell bonus was doubled.
0d93cf100 Fix: Monsters with wrap attacks caused incurable strangulation.
54cbdffeb Instead of cavemen getting nightvision, gnomes get it (from dNetHack).
ccca97d94 Gnomes are good at slipping free from grabbing attacks.
6aa366786 Fix: Sting actually cuts through webs.
9b858834e Fix: healer injured descriptions.
9a7ea4fd5 Berserkers turn hostile.
c591f89c0 Altars and forges won't start appearing until after level 4.
40459e35c Removed Disrupter from priest sac gift.
0150e3369 Spiritual attributes shows when you last made a wish.
0580fac17 Less stuff in Vlad's tower (from UnNetHack).
12abce93f Remove candles from Vlad's Tower.
5c42b52bb Don't reveal correct temple due to fleeing monsters on Astral Plane.
1b3f94341 Change subservient adj in art room.
91607a47e Close loophole where player can #loot unpaid items to their pets.
5d2cd2a67 Reduced artifact costs (from GnollHack).
63d2bab3d Pet theft is not allowed.
c4df095c0 Monster acid attacks also corrode armor.
a5957ea63 Getting hit by potions of acid can corrode armor.
0f63ffb67 Passive acid corrodes armor more often.
7b1ceebe6 Vampire mages can see invisible.
cb746347b Master liches and arch-liches can see invisible (from FIQHack).
3b569e4f6 Titans can see invisible (from FIQHack).
334922c9b Telepathy gained from floating eye corpses is temporary.
f8a5abcae Orc and kobold shamans are skittish.
d1bc07091 Archeologists get bonus when searching.
f27a0c6c9 Mind flayer attacks can make hero forget skills.
7687f8047 Spellcasting no longer exercises wisdom (from FIQHack).
30a254499 New experience curve. This should allow for a little easier  time leveling up. It kind of walks between EvilHack's and FIQ's XP curves.  When we reach level 25, we return to the high EvilHack experience  requirements.
76656719c Quest artifacts cannot be wished for.
27e836422 All dragons stalk/follow the player.
1601e7979 Slightly buff dragon melee (from FIQHack).
b937f4acb Make dragons equally as fast as horses, speed 20 (from FIQHack).
dab362f5f Hungerless casting nerf.
507df6bd6 Monsters are never generated peaceful in Sokoban (from FIQHack).
208ef26d8 Crowning grants *up to* 3 intrinsics.
dc01d72ff Saddles are now twice as common (from FIQHack).
fcc287a49 Fix: green slimes hiding on closed doors. Fixes #20.
a944bb3ba Trolls don't leave a corpse when wielding Trollsbane.
f0db20e92 Wielding Sunsword prevents zombies from reviving (from EvilHack).
7fb01da7b Reduce odds of greased towel when cleaning items.
abdac6870 Fix: towel apply msg removing grease.
bd4bb57a0 Zombies don't revive in Sokoban.
754ff0bee Scale the elf/accurate to-hit bonus, cap at level 20.
6b09952bb Monsters can cast ice bolt, fire bolt, and acid blast at close range (since they are not explosions).
e67087778 Fix: Spear traps were not being handled in immune_to_trap.
81fa286e5 Magicbane is a quarterstaff.
6df114a99 Acid spit can corrode armor and weapons.
c22c2adb6 Silence nonnull argument warning in m_throw.
a7cc1aed8 Silence signed/unsigned mismatch warning in potion.c
f2cf093c6 Silence pragma warning in mon.c
6c6705f92 Remove remaining tutorial code.
e736c377a Renamed NetHackW.rc
a68a8adbb Fix forge tile.
605156337 Enable vampire mage tile.
3b12207e9 Fix: ha-naga tile placement.
c343fe3d3 Add tile for giant praying mantis.
c0579d305 Fix showsyms refs in mhmap.c
ddd1d1118 Merge branch 'dumptags' into dev
4803ef759 Enable DUMPLOG and DUMPHTML by default.
64136a1b4 Revert "Attempt to fix windows build."
8fe3d52a0 Attempt #2 to fix windows build.
2a38f04e2 Merge branch 'dumptags' into dev
5c01c5e61 Attempt to fix windows build.
daf3ba075 Silence nonnull arg in weapon.c
58b0b7b8c Merge branch 'updates' into merge
7f72c5b4c Fix: immune_to_trap: bad ttype 10. Fixes #16. The new grease trap didn't have checks for which monsters would be immune to its effects.
dcd1d3d0f Elven players and being polyd into an accurate monster grants the same to-hit bonus that monster enjoy.
895d51f24 Revert "Fix a couple latent bugs with initial rings/other charged items."
412839eb5 Fix: corpses dipped into forges could trigger metallic effects.
2bcebd7bb Unicorn skill and unicorn horn use.
f1eebe792 Unset thrownobj for dropped items while levitating. Followup to ee9863b35.
ce1a5b0b3 Disabled the tutorial.
96356a4f8 Fix: Soko 3-1 had hardfloor tag, preventing holes from generating.
efbcfca4d Grease traps only start appearing after level 4.
67161f0dc Merge branch 'traps' into dev
b0fc3027b Towels can be used to remove grease from specific objects.
f9e5ea0f3 Greased items can't be disarmed with a bullwhip.
e92ed4585 Greased items are harder to steal.
5d22ac85e Glib hands makes applying any item except towels drop them.
aa9b001aa Grease can be washed off towels by wetting them.
892a7f22a Greased towels now operate the same way that cursed towels do.
7ce16cf2f Grease traps.
ee9863b35 Fix: extract_nobj when dropping potion of monster detection while levitating. Fixes #11.
0999d1654 Cold traps.
d237fd2fc Spear traps.
9033c1fdc Magic beam traps.
60cbb1d6e Cold traps.
d11f31081 Spear traps.
18deea900 Fix: Make forge creation follow 3.7 conventions. Prevents ice melt timer issues.
6443375d3 Magic beam traps.
3fc855cbb Change forge frequency to match altars.
e3ff659a5 All bats can see invisible.
1845afcb5 Color priests and shopkeepers yellow.
f3596f135 Import three more Lawful artifacts.
e5f377375 Fix: Can water walk with poseidon's trident without paranoid confirmation.
0b10d183f Fix: gaze attack 12? Fixes #9.
f795b8b58 Hellfire and Plague get their traditional +d7 damage bonuses.
98641abd2 Fix: Water walking boots are only identified while worn and water walking. Removed inappropriate message for other water walking cases.
8760432ef Ported Plague from SLASH'EM.
b0ce94018 Remove damage bonus from Hellfire.
21c97edab Silence unused variable warning in does_block.
36cb918b0 Ported Hellfire from SLASH'EM.
6a134bc01 Ported Origin from SpliceHack/Hack'EM.
1b0d77b4d Ported Poseidon's trident from SpliceHack.
a248cd3ef Ported Doomblade from SLASH'EM.
9c75b82b6 Ported Serpent's Tongue from SLASH'EM.
96ca0cc4a Ported The End from SpliceHack. An artifact Neutral scythe which deals 1d20 cold damage and gets +d3 to-hit. It also grants drain resistance while wielded.
459436cf0 Scythes can also be used in melee combat (unlike other polearms) but have a -2 to-hit penalty.
b822b85a1 Redcaps can get different gear, berserk, and leave no corpses.
64802d507 Imported scythes from SpliceHack.
e2202f503 Ported Mouser's Scalpel from slashem-up/SlashTHEM. Used the fixes from Hack'EM.
cee40f7b7 Imported rapiers from SLASH'EM. Some mods from Hack'EM: they only weigh 15 and they can generate randomly.
6218a4aaf Piercers and lurkers/trappers should always generate hidden.
3a7f6df84 Fix: Soko 3-1 had pits instead of holes.
7e291f032 Fix: Soko 3-1 missing down stair.
d446017d7 Scrolls also can burn up when hitting hot ground in Gehennom.
09e7fad0f Headless and breathless monsters don't cough.
c2bce5095 Merge branch 'forge' into dev
4886571ba Fix heap-use-after-free caused by cursed unlocking tool breaking.
7be8e6d7c Invisibility and see invisible cannot be gained intrinsically.
232d86c85 Reduce special themed rooms under difficulty level 5.
6b0b759b0 Thrown potions of hallucination confuse monsters.
f57a69c7e Define all themed rooms with unusual floor features as type themed.
ab1a1b09f Rangers are not stunned from using portals.
213553846 Fix: passive green slime attack not active.
af6efbc97 Fix: Missing deterioration descriptions in erode_obj. Fixes #7.
a8053462e Potion of paralysis lasts 3-24 turns on monsters.
2eb903694 A helmets enchantment improves its resistance to piercer hits.
f08466e36 worm tooth is piercing. Fixes #6.
a77b4a2f2 Merge branch 'reflect' into dev
f2290c969 Fix: uwep check in passive_obj when weapon is passively destroyed. Fixes #5.
d8cdb2932 Revert the changes to poison rays. Since we are going to go with partial reflection, I think any changes to the rays will be confusing and unintuitive for new players. Also, the poison gas explosions were causing dmonsfree errors.
75936029c Disable branch jumping while fuzzing, so we can stabilize some things first.
0b9988566 Partial reflection (from EvilHack).
47200e49b Acid streams can be reflected as normal.
a7bacc4c0 More ZT_ use.
68929a2fb Tone down defensive monster behavior.
e0aa63f4b Branchport always brings you to the entry level of a branch.
8323b1e78 Fix: Regeneration blocking in valley was not working as intended.
5766b0024 Change dart traps in VotD to magic traps (from EvilHack).
9357f301e Fix: hatching wielded/quivered egg called weight()
80985e562 Fix a few more places where player unknows objects. Followup to 7d03457a2.
4e92ac785 Make rustproof/erodeproof/fixed known by default (from DynaHack).
e652476b2 Lava demons are never generated tame from forges, but they can grant you fire resistance.
bde182e69 Items can pass over forges.
91f5c0b98 1 in 30 chance of erodeproofing an item when dipping in a forge.
9414ced3f Disable the fuzzer from branchporting.
6e9ccd66d Ported forges and lava demons from EvilHack.
27f71f4eb Revert 218c0d4a3 - Stinking clouds block line of sight
9267cb7ca Revert dexterity-based AC to match EvilHack.
4959e2f72 The Tsurugi of Muramasa grants half physical damage when wielded (from EvilHack).
648015967 Revert "Added diminished effects to several potions if they are diluted."
9380cbc26 Fix: non-ammo non-missile poisoned weapons were not poisoning monsters correctly.
c605746b2 Attempt to fix windows build.
65978b0f4 Amnesia can make you forget intrinsic telepathy.
c8a1fbe90 Launchers cannot be poisoned.
3e2e53586 Don't flip any minetown levels.
01363d720 Revert "Add messages for cursed worn or wielded items becoming uncursed."
1aca6c51c Revert "Wearing cursed gear prints a weld message and auto-identifies."
2353be13d Fix: objdescr_is: null obj falling into pit trap.
60c099b2b When a hard helmet blocks a piercer and is destroyed, it absorbs some damage. Previously, the player took some extra damage instead. This was a leftover from xNetHack's implementation where the glass piercer could break a glass helmet. There it makes sense (glass shards hitting the player in the process maybe?), but here let's not punish the player even more.
a60a66bb6 Fix order of ha-naga attacks. Based on a comment for guardian naga about making the hugs attack work.
d84e7c7ed Tone down the wounded legs AC penalty.
1734bb8fc Add AC bonus for having 20+ DEX.
1d6b444d9 Silence warning for defined but not used in monmove.c
5ea3280cf Revert "Certain scared monsters can scream in fear."
c1f360cab Monsters/pets can't help flank if they are eating.
e6e80e964 Trapper and lurker above buffs.
5e96d0d46 Removed temple of the gods theme room.
0d2e2d142 Revert "Fog clouds maintain any gas clouds"
813f435ac Wearing fumbling boots with the hiking boots appearance only protects from falling in pits 50% of the time.
35ac4aa5a Enable plunging into pits with hiking boots.
3410808db Fix null uarmf check when falling in pit.
e3fef01e8 Tone down berserkers a bit.
66cd8b777 Hiking boots let you avoid pit traps.
9a62ba881 An Archeologist wielding a bullwhip will not fall through trap doors (from SLASH'EM).
4cbd9c99f Mud boots provide protection from wrapping attacks (from dNetHack).
17f56afa5 Hiking boots provide extra carrying capacity (from dNetHack).
ad27a08d8 Fencing gloves provide +2 to-hit when you are attacking with a free off-hand (from dNetHack).
8548f0c41 Old gloves don't take erosion damage (from dNetHack).
abfdc069f Padded gloves provide an extra point of AC (from dNetHack).
fa8c09924 Combat boots provide 1AC and +1 to-hit (from dNetHack).
85f2a356d Jungle boots provide protection from wounded legs (from dNetHack).
01e67b7eb Revert "Revert "Fix: player role Priest should not receive an edged artifact weapon via altar sacrifice (from EvilHack).""
6396a5ad9 Ported Keolewa from EvilHack.
5600839f9 Make training weapons out of unskilled easier.
ba7460eb7 Fix: enlightenment message showing your skill was off.
b456bd0ca Wounded legs also inflicts a severe AC penalty for bearing weight.
44a853f3a Formally id potions of sickness and fruit juice when dipping unihorn in sickness.
19c8fb061 Fix: mbodyparts bug introduced in 59361a00f.
4c3686135 Fix: teleporting out of water elemental wasn't curing strangulation and segfault.
092e3866f Queen bees can displace monsters.
44710343e Enable DDUMPHTML in mac hints.
220130458 re-enable win/mac github workflows.
f728e35f5 Art rooms help exercise INT and WIS, depending on the room.
dba9749bd Don't livelog in explore mode.
fd03b6d81 Priests start with a +2 small shield (from SLASH'EM).
bf0f42abd Swapping weapons take 0 turns now (from dNetHack)
68693cc38 Allow rogue backstab damage for the first thrown weapon.
d415363dd Berserking monsters show berserking on farlook.
7c9bc69fa Piercers can grow up.
2582be8c5 Ported diamond piercers from SpliceHack.
894f9f757 Magic-liking monsters will pick up magical tools.
59361a00f Wearing cursed gear prints a weld message and auto-identifies.
94640a435 Add messages for cursed worn or wielded items becoming uncursed.
a21075019 Reduce odds of items rotting in poison clouds.
0ae44f789 Merge branch 'underline' into dev
e484d4739 Implement peaceful monster underlining in tty and curses.
ac73e32ea Spell retention bonus for casting your special spell.
8e290c63e Remove extra turns field from spell menu.
6d68f2899 Spellcasting KEEN is 10000.
acdd452cb Primary spellcasters get a memory boost when they cast spells.
04482a86d Disable #chronicle from auto-completing.
fd88f1fb1 Only elves can safely enchant elven armor over +3.
d63df56f8 Make all A monsters immune to death magic.
3b60b3893 Flag some additional monsters as herbivorous and carnivorous.
12679fdfc ki-rin are shock, sleep, cold, and poison resistant.
33c98d29e Remove monster maximum difficulty limit with demigod flag set.
6e87602fa A welded cursed quarterstaff doesn't block spellcasting (from xNetHack).
2e71b51f2 Restrict pets from blowing you up via gas spore.
511b5a73c Hungerless casting ignores too hungry to cast penalty.
eba444c7a Buff war hammers into a competitive two-handed weapon.
08fb96ed6 Orcish shields and dwarvish shields are bulky (from xNetHack).
b45529529 Unify piercer-falling logic.
30a7f0223 Reduce the protective effect of a hard helm for heavy falling things.
09511809a Replace spell retention percentages with exact number of turns left.
0cf976b9b Troll meat provides temporary intrinsic regeneration.
22cc5e987 Elementals resist sickness.
0c5ccd5dd Formally type-ID amethyst, fruit juice, and booze when appropriate.
de132f8bc Only hostile monsters will break boulders (from EvilHack).
98779e9d2 Monsters won't break boulders in Sokobon.
2743c111a Allow monsters wielding a digging tool to break boulders (from EvilHack).
eddb5c1c7 More severe encumbrance AC penalty.
654eb07d8 Piercers actually pierce helmets; piercing damage scales with their level.
a75c0ef1e Much more AC is required to dodge dropping piercers.
ee2c48d59 All piercers are mindless.
025355504 Imported the M3_ACCURATE tag from EvilHack.
635ff4fad Endgame genocide nerf.
a03ba5228 Bones file trimming. When bones files are left, there's a good chance of items being polymorphed or shuddering away. This is to mess with the bones files stuffers/peekers, so they can't have free identify on all bones.
b9676bfbe Non-magical potions, scrolls, spellbooks, and wands are much less likely to transform into magical items. Inspired by dNetHack, this commit significantly reduces the likelihood of polymorphing generic non-magical items. Now, items such as blank scrolls, potions of water, blank spellbooks, and the wand of nothing will only have a 1% chance of transforming into something magical.
b52a02bd1 Revert "Revert "Priests cannot have edged weapon skill unrestricted (from SporkHack).""
c9fb2dfdd Ported Disrupter from SLASH'EM.
7d03457a2 Items that are 'lost' from the players inventory will no longer be un-identified.
1d1eae77b Merge branch 'soko' into dev
898eb7878 Replaced vanilla sokoban levels with SLASH'EM levels.
f7c446850 Even less spell of protection spam for peacefuls.
77ce23eef Messages when priests prevent zombies from reviving.
3a694a197 Berserking monsters wake up nearby denizens.
6d6d6fae8 Revert "Priests cannot get skill in edged/piercing weapons (from EvilHack)."
a0a0a063d Revert "Priests cannot have edged weapon skill unrestricted (from SporkHack)."
d5e3e2fd3 Revert "Priests are strongly discouraged from using edged weapons (from EvilHack)."
b89a58ce7 Revert "Fix: player role Priest should not receive an edged artifact weapon via altar sacrifice (from EvilHack)."
15b1c87ad Priests reduce the chance of zombie revival by 50%.
ae8974845 Wielding a quarterstaff provides a small bonus to spellcasting.
decb77359 Give couatls sleep and shock resistance (from Nethack Fourk).
3ea68fefb Remove magic markers from starting inventory. It was re-added in a recent merge from vanilla.
5a3ac4d47 Amulet of unchanging can't be polymorphed.
fbff71bf4 Tourists start with more darts to compensate for more training being needed to advance weapon skills
b823c38f7 Magic negation (MC) value on the bottom line.
6d8b89a8d Fix an art room message.
69ec58061 Wielded polearms grant +2AC.
21c257265 Gem class projectiles do minimal damage vs thick-skinned monsters.
ef0a7414c Fix: mon fleeing message missplaced.
9a0ec20f8 Unicorn horn - offensive nerf.
df703a6e5 Fix: Zombies not reviving.
a75c16003 Merge branch 'wands' into dev
b236c901f Added the wand of corrosion.
b08bcb87a Ported the wand of poison gas from SpliceHack.
99173f55e LAST_WAND macro.
18edb1a06 Berserking tweaks.
4791dcc5f Berserking tweaks.
f722141eb Throttle gains from wraiths.
607ce0008 Dipping an eroded item in restore ability repairs the erosion.
de8ee7ccf Only cave dwellers get the strength bonus for using slings.
a599fe8e2 Poison gas clouds can rot organic armor.
a8b44b7b3 Restrict dagger and polearms skills for cavepeople.
231d73efd Allow wishing for unihorn.
6ef537ab2 Add first draft of readme.
c48d5a751 Fix: exploding door said KABOOM and Boom.
002265163 Fix: segfault unlocking trapped door that explodes.
7bd5c1cca Update the game title to HACKEM in more places.
a9173e9f8 Add history for HACKEM.
58e5326ec Fix BStealth (caused by Stomping check).
6485df13a Merge branch 'updates' into merge_updates
e0db29db4 Added the showdmg option from SLASH'EM.
90f1c573f Being uncumbered also has a negative effect on your AC.
6a9e4a89b Tweak dex-based-ac.
bb941bdc0 Raise price of magic lamp to 500 (from xNetHack).
18ca24eac Ported berserking behavior from EvilHack.
fc1feb599 Ported the destroy armor spell from EvilHack.
27031caf8 Disable vampire mages from vampshifting.
271db8d5f Ported stomping boots from SpliceHack.
94da390ad Ported the monster protection spell from EvilHack.
4b1e58f7c Monster spellcasters can cast reflection (from EvilHack).
7e3b42ea9 Ported the acid blast monster spell from EvilHack.
3ebc316bf Ported ice bolt from EvilHack.
bb1643c72 Implemented MGC_FIRE_BOLT from EvilHack.
befbcc609 Move ZT macros to hack.h.
c2a5d1459 Wands of wishing are always generated recharged once, unless in the Castle or in explore mode.
352af9eea Add art rooms from SpliceHack.
8033d8147 Crysknives are never auto-quivered.
a3a250df2 Don't let zombies dig out in Sokobon.
1ff117245 Prevent stopping on grave engravings when running.
b820d5bd9 Giant spiders can ensnare monsters in webs (from EvilHack).
acb552bfc The iron ball and chain cannot be destroyed from  rusting.
d31598f56 Objects can be completely destroyed via rusting/rotting/corroding.
03c0f4309 Use the SLASH'EM style message for getting zapped by cancellation.
5251d8b51 Prevent some super strong monsters from generating in the mines.
08d23be9b Refactor untameable monsters into a macro using the M3_NOTAME flag. In this commit, we also prevent all unique monsters from being tamed.
148c1fecc Ported deepest ones from SLASH'EM.
228c9fe4c Ported alhoons from EvilHack.
12a73fedf Fix: is_jumper checking wrong mflags.
91007276b Ported adherers from SpliceHack.
d421ee9c4 Ported nightgaunts from SLASH'EM/SpliceHack.
c5f1d7b64 Ported byahkees from SLASH'EM.
72fed9ca9 Ported athols from SLASH'EM.
6aac56fe5 Ported alchemist from SpliceHack.
7d3a462c7 Ported kamadan from SLASH'EM.
a33a77937 Added weretigers (from SLASH'EM).
97b1f301d Enabled vampire mages. To fill in the gaps I used the code from EvilHack.
bd1597cf3 Ported thing from below from SpliceHack.
f379d0898 Ported ha-naga from SpliceHack.
32d8c30d5 Add tile for landshark.
9a3fa91f4 Ported gray fungus from EvilHack/SlashTHEM.
84e12820f Ported merfolk from Hack'EM. These are a mix of the merfolk from SpliceHack and SlashTHEM - a deadly force in the water that can steal your items. It has already proven to be a popular choice for genocide, so it definitely makes the cut.
f1d9ed0c5 Ported jumping spiders from EvilHack.
59ae14347 Jumping monsters.
c92e9ea65 Ported monster jumping behavior from EvilHack and Splicehack. Monsters with this behavior have the M3_JUMPER tag and will be able to jump at the player from a few squares away. This makes it more difficult to anticipate their attacks, and lets them cross water terrain.
a1c9a656b Ported landshark (from SpliceHack).
6ad7b40a7 Ported giant praying mantis (from SpliceHack).
160ec661c Added glowing eyes (from SLASH'EM).
a34fc28a6 Added locusts.
1dde2c459 Added troll mummies (from SLASH'EM).
515b4bb1e Raise blinking eyes speed to what it was in SLASH'EM and make them skittish.
951b99690 Added bloodshot eyes (from SLASH'EM).
65bf15249 Added blinking eyes (From SpliceHack, originally from SLASH'EM)
3df51ba57 Increase green slime's speed.
4bd835c7f Water Elementals can now engulf and suffocate.
8a4ff2df5 Reduce AC of dragon scales to 1 and dragon scale mails to 3.
b29ffd29f Merge branch 'dsm' into dev
79b964f53 Make 1-damage hits still train weapon/unarmed skills
d1a127ae7 Riding skill is exercised more quickly, closer to vanilla (from UnNetHack).
d8273755c Skill gain for spells is faster than skill gain for weapons.
04f29425e Increased skill levels (from UnNetHack).
2747b9fc1 Restricted or unskilled throwing has a chance of weapon slipping (from UnNetHack).
1e6f59f85 Dragon scale mail is unwishable and will transform into dragon scales. Dragon scales only come in +0.
40236cde8 Centaurs will keep their distance from the player naturally.
76b7ebc6a Scrolls of genocide only kill a single monster species on the level (uncursed) or globally (blessed).
4670e63d8 Port redcaps from SpliceHack.
ecfe1d3c5 Booby-trapped doors literally explode.
fe9628e9e Dexterity affects armor class.
fc8cb04e3 Occasional earthquake during the ascension run.
eeb2e6bb2 Extra parens in crackaltar.
b375484c7 Adjust dragon alignments (from EvilHack).
53719243a Finite altar nerfs.
ab0e2c200 Certain scared monsters can scream in fear.
2d65bba64 Move permonst drain resistance and player-style-MR checks to macros.
3cb0e11be Geyser spell rusts armor and instakills iron golems (from EvilHack).
68971bdc3 The success of applying unicorn horns depends on their enchantment level (from SLASH'EM).
082e72a5f Revert "Covetous monsters will teleport to downstairs or upstairs"
d2b6be3d9 Reduce C/K-rations given to soldiers.
a578e03dc Ctrl-X pray info was telling the player if it was safe to pray outside of wizmode.
68a376781 Silence old-school function warning.
7c1816e73 Imported will-o'-the-wisps (from SpliceHack).
4a9129289 Added zoo bats (from SpliceHack).
631e437cf Ignore order.sh
60f46cf6c Rabid rats cannot be tamed.
ca14889cc Fix the input look for enchant armor.
e4dfb97e4 Added flanking to monsters.
dba370525 Implement flanking.
ae4effbeb Add withering status effect from mummies.
8148a2865 Covetous monsters will equip wearable items that they target.
c10dbb162 Elves can always squeeze between two trees.
34782b153 Minimal implementation of meaningful monster stunning.
a3f2510d3 Cancelled or beheaded zombies and trolls don't revive.
c092b7f54 Increase zombie revival rate.
3314c1051 Zombie corpses may auto-revive.
f584de77a Let monsters use ranged combat in melee as a fallback option.
a6ecf92e2 Don't apply half phys damage when zapping self with non-striking wand.
2f8d8c6bc Magic resistance and half spell damage halve magic missile damage.
0ea84be30 Make lieutenants M2_LORD and captains M2_PRINCE
da1524a17 Quasit buffs.
6d3999616 Add more spears in monster starting inventory.
74729c6ba Creating Excalibur will fix any negative enchantment on it.
73d53bbbb Buff ice devils' cold sting and claw attacks.
0e870e281 Increase Yeenoghu's magic missile attack to 6d6
e7f3a09d8 Goblins can generate in small groups.
969f1c60b Random tins are occasionally booby-trapped.
490f36af5 M2_LORD monsters never get negative weapons or armor
fc6191a1b Make rabid and sewer rats hide under objects. (from xNetHack).
b3162dc6a Silver items can corrode.
0e31157b3 Force bolts destroy iron bars.
71a585f4c Fix: with player as Archon, blinding gaze attack was unimplemented
1c03c9acd Add graveyard flags to priest quest levels (from xNetHack).
a554f1efa Add graveyard flag to castle (from xNetHack).
a14d35871 Orc captains now are lords and have speed 9 (from xNetHack)
8a2cd9b57 When a monster spawns with a weapon, it wields it immediately
a429de5cf Fix a couple latent bugs with initial rings/other charged items.
6ee1f5cdc Make the Master Assassin poison resistant.
8ab96ac5d Hallucination protects against skeleton bone rattling
265184e84 Fix: vapors from thrown potion of monster detection could cause panic
1e9b85eda Fix: potential use-after-free when monster threw lit oil
04fa88a8b Implement Nazgul shrieking.
08e4454f9 Add descriptive miss messages.
2bd308c40 Add descriptive hit messages
112782c17 Allow cursed gain level in Sokoban to bypass a floor
297fc6188 Intelligent monsters pick up keys and lock picks
b89b8c291 Make ice and bone devils lawful.
cb59c82c5 Fix: purple worms could eat ghosts
45c6a5ca4 Allow green slimes to hide on the ceiling
e6dcbc03b Give flight to a number of major demons
1b3bde164 Rangers also get auto-id for launchers when they reach level 7. This is a followup c6d5c78f9 and has the same restrictions. The ranger must have basic skill in the launcher to see it's enchantment.
e0d8b8492 Weapon familiarity.
b63f10de9 Conflict negates Elbereth and scare monster (from EvilHack).
36bc0f2af Revert "Some tweaks to damage and to-hit bonuses based on STR and/or two-weaponing (from EvilHack)."
aa5d0fc8b Revert "Update the strength bonus for weapons. After comparing to current EvilHack I noticed some updates in dbon."
f5040d593 Merge branch 'updates' into mergebranch
816227225 Fix: various monsters movement speed while underwater (from EvilHack)
5642c663b m_canseeu() allows seeing the player underwater (from EvilHack).
72a95ad89 Fix: inconsistent attack behavior while submerged in water (from EvilHack).
415a096af Show prayer stats in Attributes menu (from UnNetHack).
9a26851b7 Merge branch 'shortcuts' into dev
b1c601c0f When donating to priests - the gold vanishes upon receipt.
e5ac9147c Add config option for auto-stair travel. Written by Noisytoot for Hack'EM and adapted for HACKEM in 3.7.
51e2ab961 Fix: stairtravel was not working when known stairs were covered up by objects.
d1332800e Autotraveling to stairs when pressinv > or < (from UnNetHack).
9d3810252 Monsters with a negative AC get damage reduction from melee attacks.
74d756ead Monsters with a negative AC get damage reduction from melee attacks.
d2b7928d9 Training skill in pick-axe affects how fast you can dig.
9ddbe4967 Fix: thrown potions of polymorph by hostiles at hero that hit peacefuls anger them.
403709f16 Monsters can use figurines (from EvilHack)
70cd5fc1b Monsters can use scrolls of remove curse (from EvilHack).
dcb23ee08 Monsters can throw potions of polymorph offensively.
1007efc4e Wand of cancellation extensions (from EvilHack) - squashed:
5b12cc03e Croesus can move other monsters out of his way.
fa6309c53 Castle barracks may open into courtyard instead of throne room.
73269280d Add some iron bars to the castle perimeter.
320b0fd83 Add iron bars to the castle towers.
af20f5b45 Merge branch 'loot' into dev
689ca64e5 Silence unused variable 'pa'
ccb19eff5 Monsters will switch to their melee attack intelligently.
07ba5b337 Message for astral taming resist.
ce58fc8d0 Provide more detailed farlook armor descriptions
10e4a62d7 Farlook enhancements: show more basic information
3c01412aa Couple small tweaks to injury sensing.
230c44079 Add L's Wounds patch: healers can see damage on monsters
612992410 Add is_fleshy() to determine whether a monster has flesh
139aa51f4 Wizard mode can override an artifact ignoring you
2f752e096 Implement giving and taking pets' items via #loot
330899f33 Monsters can read scrolls of stinking cloud as an offensive tactic.
443da19d7 Monsters can use magic flutes.
1f22e3876 Watch captains and captains generate with keys. From EvilHack commit 0bf00fb00.
d5fc689d6 Gauntlets of Dexterity grant +1 to-hit while using bows. From EvilHack commit cd5c574bb.
21a23ce69 Change the color of mind flayers to bright magenta. From EvilHack commit 6a4cf6498e.
b1313facb Monsters can use potions of oil as an offensive item.
22e177d50 Monsters will generate and attack with potions of hallucination.
566365c73 Merge misc fixes into dev
c2a8111e1 Fix: hilite_pile shenanigans with ball & chain.
23b33dbd5 Fix: Hiding monster still concealed under egg after it hatches.
c2f1d5dbc Gremlins always gremlin. Midnight is irrelevant.
a606d995b Taming is more difficult on the Astral Plane.
ae53a5a42 Revert "Don't grant tame djinni from lamps/potions if player is petless."
632fbb108 Fix: blanked spellbooks from reading not updating in permanent inventory.
c92843cb2 Stunned/confused jumping
dcbeaaadf Fix: don't hilite globs of pudding after they merge
4cb526a1e Fix: Don't discover warned-of monsters when blind
a1121f4c9 Fix: Messages and IDing polymorph potions when dipping while blind
d395a368b Don't allow players to name objects they don't know the appearance of.
8ed7e27b6 Rangers get extended range for seeing object's dknown. I feel like this just fits in well with the role since rangers would naturally have great eyesight.
2c0df76cf Fix: player role Priest should not receive an edged crowning gift.
89eb15a88 Fix: player role Priest should not receive an edged artifact weapon via altar sacrifice (from EvilHack).
5804d7f42 Priests are strongly discouraged from using edged weapons (from EvilHack). They get a -30 to-hit penalty in melee or when throwing these weapons. They frequently misfire when trying to shoot edged weapons. They also get alignment penalties from their god.
8baa8b51a Priests cannot have edged weapon skill unrestricted (from SporkHack).
842f65bf2 Priests cannot get skill in edged/piercing weapons (from EvilHack). This is the first in a line of commits to advance the 'edgeless' priest from Evil.
9de81179f Cave dwellers cannot receive spells from their deity (from EvilHack).
48581d955 Cave dwellers cannot have skills in edged or pointy weapons unrestricted (from EvilHack).
8d1a96c88 Remove the cave dwellers special spell (from EvilHack).
1ed31d964 Skill adjustments for cave dwellers (from EvilHack)
4464b8933 Fix a couple things with the flint affixing to arrows.
e6ba88a3b Merge branch 'flintingarrows' into caveman
2976e0a06 Cavepersons can lash flint to arrows, making them do slightly more damage (SporkHack/SlashTHEM)
31493bd8a Fix narrow passageways in cave dweller quest.
de726aca2 Make Caveman quest narration and dialogue caveman-like
be12fc502 Cavepersons can get an alignment boost via cannibalism (Sporkhack)
b5cb4ce7d Cavepersons have an 80% chance of failing to read any spellbook regardless of its status.
0fd8c020c Because cavepersons' gods are also primitive, they aren't always paying attention, and will sometimes not respond to prayer (10% chance)
158587437 Cavepersons can increase their maximum hit points at each level-up if they remain illiterate.
20425adf5 Cavepersons can strike flint against objects made of iron, producing sparks (fire).
e54238051 Flint can be applied to arrows.
688a00050 Hobbits that generate with a sling also generate flint (or, occasionally, rocks) to use with it.
a6d79e1eb Cavepeople now start the game with more flint and no rocks.
10644c4b3 Allow rocks and flint to be (a)pplied to break them. This is a minor QoL feature from EvilHack, but it definitely makes the process of breaking rocks a lot more streamlined.
f951e7e30 Flint weight reduced from 10 to 2 This change comes from many other variants (xNetHack, EvilHack, SporkHack) and fits well with the other changes to flint.
25b45c27e Rocks can be broken to produce flint stones (from xNetHack).
a50a51443 Enable ASAN in linux-debug.
e2d97e273 Revert "linux-debug using xnethack's updates. Also enable ASAN by default."
07268f25a linux-debug using xnethack's updates. Also enable ASAN by default.
36ef8c97c Disable windows and mac workflows for now. Currently I can't get them to work; needs further investigation.
cb6e31caf Updated mac hints file using latest xNetHack settings.
0a504a8fa Attempt to fix linux git workflow build.
d8080f0ed Updated more filepaths with hackem to get all the builds working.
37f2f2602 Update all binaries to reference hackem.
8374b8f6e Update all config files to reference hackem. nethackrc, nethack.cnf, and nethack.cnf, nethack,ini.
8a85609c5 Update game title, author, contact info, and version numbers.
376f09e77 Merge branch 'branding' into dev
6ca2bba60 Revert "Replace NetHack with HACKEM in most relevant locations, and switch to .hackemrc."
054876979 Revert "Leftover bits in nethack.txt"
2e30cd01a github workflow filename; dev branch
04557d710 Add github workflow for production (copied and altared from xNetHack).
ffe0a39e1 Update a couple missing hackem references.
0a7251c73 Merge branch 'branding' into dev
5c63d1198 Leftover bits in nethack.txt
849dfb732 Update windows splash screen (thanks qt)
14215fb40 Updated logo for curses.
2856a9928 Ignore src/hackem.
738fa8eb7 Reverse the name of the HACKEM MUCHE scroll. We can't have too much HACKEM MUCHE in this variant...
201aeb941 Merge branch 'dev' into branding
6690760f0 Replace NetHack with HACKEM in most relevant locations, and switch to .hackemrc.
db385d475 Revert "Don't generate any themed rooms until level 5. When someone first enters the dungeon, I want them to get the old-school NetHack feeling first. Then, unleash all the weird new rooms as they get deeper in the dungeon."
e1df83274 Don't grant tame djinni from lamps/potions if player is petless.
f5db06597 Revert "Make oil undilutable (from xNetHack)."
5914f257d Revert "Fix: prevent oil produced by alchemy from being diluted (from xNetHack)."
d92b15144 Silence 'You learn more about your items by comparing them.'
207889776 Update the strength bonus for weapons. After comparing to current EvilHack I noticed some updates in dbon.
5fc96654b The Eyes of the Overworld protect against more gaze attacks (from EvilHack). Nice quality-of-life feature for monks. This protects against stunning and gaze attacks, as well as melee with floating eyes. Like EvilHack, it does not protect against Medusa's stoning gaze or fire gazes, or any other potential gazes.
8f0a1e5e6 Identity of the Riders hidden via farlook (from EvilHack). Originally from UnNetHack.
978a1c2a0 Port over potion breathing effects from xNetHack.
bb7df9fab Fix: prevent oil produced by alchemy from being diluted (from xNetHack). Fix from SliceHack, though it's questionable whether oil should ever be produced by alchemy at all.
87bea4e8c Implement behavior for cursed potion of gain ability (from xNetHack).
a6e8d945b Revert "Cursed potion of gain ability can decrease one's attributes. (From slashem-up)"
cfa1b941c Added diminished effects to several potions if they are diluted. I adapted this from EvilHack commit df086f65d1, which in turn got it from SporkHack.
36ccac07e Revert "Leprechauns bury their gold after teleporting"
c26d7fb04 Disable vampshifting for the player; now mirrors the behavior for monsters.
89a1f2450 The Wizard of Yendor is bright magenta. Got this from EvilHack - helps differentiate him from elven royalty.
cf231f6c0 Don't generate any themed rooms until level 5. When someone first enters the dungeon, I want them to get the old-school NetHack feeling first. Then, unleash all the weird new rooms as they get deeper in the dungeon.
6be1257a1 Give Rodney a weapon and the ability to use it. This was taken from EvilHack, but on a much smaller scale. The wizard gets a little offensive buff, but is still vulnerable to death rays or other standard ways of killing him.
133805a40 Bullwhips only weigh 7 aum.
35d22c5ec All short swords get +1 to-hit (from DynaHack).
41cdfa8e6 Allow empty /oCancellation into BoH
9fc98684e Players are prevented from tipping known explosive items into known bags of holding.
f7689a8d0 Players cannot put known wands of cancellation or magical bags into bags of holding anymore (from dNetHack).
ba8e0705e Chaotics do not get alignment penalties for casting healing at pets (from xNetHack).
71479d6ee Chaotics do not get alignment penalties for angering peacefuls (from xNetHack).
69e139eb7 Revert the majority of level flips. I believe this is one of my (and many other people's) sticking points with 3.7 so far. There is just something about encountering familiar levels that you have seen for years and years, just flipped around and feeling different.
77df5a134 Obfuscate the location of the chest containing the wand of wishing at the castle. I saw this in EvilHack, which got it from SporkHack. The basic idea is that a player can either look through iron bars (on certain castle variants), or just use object detection to figure out which corner of the castle to go directly to. This throws a wrench in that plan by putting chests, scrolls of scare monster, and Elbereth engravings in all 4 locations.
8d4ddff7f Updates for the Oily corpses feedback from UnNetHack. There were a couple of followup commits this I didn't catch at first.
bc8cebf3c Untrapping rust traps into fountains (from SLASH'EM). Still one of my favorite features, let's keep it alive shall we?
5827500e2 Cursed potion of gain ability can decrease one's attributes. (From slashem-up)
98ad46c2c Olog Hai now get poison resistance - they seem to be descended from orcs so makes sense they would inherit this.
9723c20bd Make rock trolls stoning resistant (from xnh).
f6605f6db Priests of Moloch are always hostile (from SLASH'EM).
575f75cce New wizard-mode command - #wizcrown (from EvilHack). From commit ae819aaf2.
70f15dd72 Some tweaks to damage and to-hit bonuses based on STR and/or two-weaponing (from EvilHack).
b1684a0a9 Disabled vampire shapeshifting all vampires except Vlad.
d5a725e81 Ability to choose worn piece of armor to enchant/repair (from EvilHack). This is one of my favorite features from EvilHack, I can't live without it in other variants now! I updated it to work with 3.7, and also reworked the prompt loop so that the player gets 5 attempts. If they select nothing, non-armor, or a non-worn piece of armor, they get some feedback and are allowed to choose a few more times.
3c3c13e73 Reduce crystal ball paralysis if player has free action (from DynaHack).
1e2eebb88 Make number of polymorphed items in #conduct visible outside wizard mode (from xNetHack).
ce161419f Running and traveling no longer push boulders (from xNetHack). This was a perennial annoyance for players, in which they could run down a hallway and push a boulder they didn't know was there into a blocked position, or push random boulders out of the way while traveling. This commit makes it so that only a deliberate, single-step move can move a boulder.
c5ce73432 Merge branch 'nerfs' into dev
96ee0bd1e Reduce chances of throne wishes (from EvilHack).
3d602f576 Put chickatrices and cockatrice eggs in cockatrice nests (from xNetHack).
efc8c1eac Rogues start with +1 short sword, samurai with +3 wakizashi (from DynaHack). Rogue +1 short sword (basic) vs. +0 daggers (thrown at skilled):
d435294cb Sling buffs: strength bonus, potential to instakill H (from xNetHack)
0f95cbcba Make kicking boots supersede thick_skin/clumsy (from SpliceHack). Another sensible change from Splice.
85acbfe35 Potions of sickness autoidentify when they coat a weapon in poison.
90b4e27a9 Increase wand to-hit chance for high-dex characters (from SpliceHack).
ec429184a Feedback when using unskilled or restricted weapons, or non-weapons (from EvilHack).
c9f871e60 Allow any slash/piercing weapon to be poisonable (from EvilHack) From GruntHack - our hero can now make any slashing/piercing weapon poisoned by dipping it into a potion of sickness. Hero beware, as this applies to weapons that monsters spawn with as well that fall under the same criteria.
83c43a288 Dramatically increase the monk's body armor penalty (from EvilHack). The vanilla implementation of this penalty meant that by the time a monk reached grand master level in martial arts and was of sufficient level (exp level 20+), wearing body armor didn't significantly affect their to-hit chances for any monster save those with the lowest AC, such as disenchanters. And even then, most hits would land, even with a modest strength and dexterity attribute scores. This commit makes the armor-wearing penalty actually mean something. Unless a monsters AC is around 4 or worse, your odds of landing a hit as a monk wearing body armor is extermely low at best.
7fde06f5f Player feedback for monks wearing/removing body armor (from EvilHack).
beeab2779 Racial armor bonuses (from EvilHack). Orcs, elves and dwarves get a slight bonus to their AC if they wear armor aligned to their race. Taken from SporkHack.
c01566fa9 Worn armor has a 25% weight reduction (from xNetHack). Drawn from a FIQHack feature that does a similar thing. The idea here is that when you are wearing armor, various muscles not usually used for carrying gear are doing some of the lifting work. (Think of wearing a 50-pound suit of armor and moving around, versus carrying 50 pounds of concrete in one's arms or a knapsack.)
f33d3db86 Using a cursed unlocking tool has a chance to break (from EvilHack). Artifacts are exempt.
3b626a9e2 Adjust shopkeepers' base level to 13 (from xNetHack).
d738002fa Raise odds of a cursed wand exploding (from xNetHack).
1f46bed57 Cursed wand backfire patch (from EvilHack). Originally created by L, imported from xNetHack (modified) - if a directional wand is cursed and the player zaps it, there's a 1 in 8 chance it will backfire, hitting the player instead.
4782025cf Player can't regen hit points while in the Valley of the Dead (from EvilHack). The Valley of the Dead is devoid of life - death and decay prevail. The player's natural regenerative process will not work here. Health regeneration can still be achieved by other means (healing spells, quaffing potions of healing, etc).
1101bc490 Buff the effects of the scroll of light (from xNetHack).
f634e97f8 Reduce how much luck affects to-hit. From EvilHack which adapted it from SporkHack.
6f0b8aa0f Luck timeout is slowed instead of prevented by luckstones, based on their BUC status. This is originally from UnNetHack, but the timeout formula has been modified to timeout much faster than originally coded.
858da3c66 Port the Oily Corpses Patch (from xNetHack).
12884cf6d Increase the prices of many magical tools (from xNetHack).
85a3ea172 Substantially reduced the probability of magic markers. The prob was adjusted to be 1/5th of it's original value in Vanilla. This change is inspired by EvilHack, but I didn't want to reduce the prob to 0 because the markers won't be eligible for polypile, and I think that's a key strategy to preserve. Markers are very powerful so it's good if they are more difficult to acquire.
28e1aa1d5 Bump magic marker base price to 200 (from xNetHack).
1896ea06b Add inventory weight/carrycap and n/52 items display (from xNetHack). Taken from FIQHack, though of course the code is modified to 3.6 conventions. The player already knew their total carried weight, how many items, and the 52 limit; this un-hides the player's carrycap, which also could have been known to the player via plugging their stats into a formula... just simplify things and tell them directly.
b4a27f80e Show the weights of objects in inventory (from xNetHack)
c18b2a670 Reduce weight of land mines to 40 and beartraps to 50 (from xNetHack).
4853d2ae5 Spellbooks' weight is directly related to their level (from xNetHack).
6d93c67c4 Potions of hallucination tossed at you actually do something. Like... wow, man. (from EvilHack). I also folded in another commit where the potion is auto-identified.
ccc487fdb Automatically identify some potions when inhaling their vapors (from xNetHack). Potions of sickness, hallucination, and speed are automatically identified when their vapors are inhaled.
43b098bed Fix: no defined behavior for hangup during a wish prompt (from xNetHack).
461f38fbc Don't guard against escaping out of wishes in wizard mode (from xNetHack).
6e8075a9f Artiwishes only care about previous artiwishes; same for gifts (from xNetHack). Commit d5419bab88c. New artiwishing chance: 1/(# of previous artiwishes + 1). New gifting chance: 1/(10 + 2 * gifts^2)
e09e28f87 Turn fuzzer random-string wishes into wishes for random objects (from xNetHack). Commit 524ffb78b6b.
061784f37 Remove ability to wish for a random item via Escape or empty buffer (from xNetHack). Commit cc811cdb9c. I don't think anyone actually uses the "feature" where specifying nothing to wish for generates a random object. Also, it's terribly unintuitive that hitting Escape (or any key, like the arrow keys, which begins an escape sequence, or accidentally hitting Enter with the buffer still empty) resolves the wish, breaks wishless conduct, and gives the player an item they almost certainly don't want.
dc74d2b97 Make oil undilutable (from xNetHack). Also make diluted oil nonwishable.
9ecd4d7a2 Only Knights can dip for Excalibur and only lawful ones at that... (from EvilHack). I also folded in the restriction that a player can't use a helm of opposite alignment to fool The Lady.
de121da5e Greatly reduce the chance of sleeping monsters waking up and growling based on luck.
361e92598 Expand the passtune range by 1 (from xNetHack). Another small quality of life feature. Some players will probably get peace of mind not having to stand right next to the highly dangerous drawbridge to activate it.
60e2d7606 Make the Castle drawbridge not always close with the passtune (from xNetHack). From UnNetHack, which got it from Spork. It's nice to have the castle meat grinder slightly less than completely reliable. (A plan I had to make a jammed drawbridge stay that way until fixed or destroyed got scrapped because there's currently nowhere good to store the data.)
706a94276 Make trappers and lurkers above mindless (from xNetHack). Main motivation is so that ESP will not show them as you approach them, and if you can see them ahead of time then what's the point of them being there? (Also, they don't have limbs, eyes, or a head. No brain seems sensible.)
299ebd0a0 Acid potions are immune to being destroyed by freezing (from xNetHack).
0303f7187 Add 1/27 chance for polytraps to disappear after polymorphing a monster. This is adapted from SpliceHack, but there it was a 1 in 7 chance to counter the presence of powerful pets. Here, it is just a measure to prevent infinite pet polymorphing. It can be quite tedious and it is good to have a stopping point for players, even if it's random.
68a279381 Wishing shortcuts.
564c1fe3c Random doors are secret less of the time (from xNetHack).
179a80427 Remove random secret corridors (from xNetHack). From UnNetHack. The reasoning for doing so there (and the same here) is that secret corridors really don't add much of anything to the game, except the thrill of standing at the apparent dead end of a corridor and mashing the search key to see if it really is the dead end or not.
4dd711458 Phasing allows escape from being engulfed (from EvilHack).
c7dc430ba Port FIQHack's ring initial enchantment rules (from xNetHack)
15c618797 Stop giving Monks You feel guilty message eventually (from xNetHack).
7b7dac8f2 Tourists get automatic type identification for shop items (from UnNetHack).
24974855c Allow skilled attack spell casters to cast basic fireball/cone of cold (from xNetHack). From UnNetHack, which evidently got it from dNetHack. If you cast these spells when Skilled or above, you are prompted to "Cast advanced spell?" whereas before you would automatically cast the advanced spell. Electing to cast the basic spell cuts the energy cost by up to 50%.
7d4a40e6b Change pick-axe weight to 75 (from SLASH'EM).
357a4f5d9 Player gets a 100 turn reminder for spells that are close to fading away.
6d8d32714 Blessed and uncursed wands wrest much more often (from xNetHack) Like in UnNetHack, blessed wands wrest 1/7 of the time, and uncursed wrest 1/23 of the time. Cursed wands still wrest 1/121 of the time. This is intended as a minor buff to having a blessed wand, and making it feasible to wrest uncursed wands without spending fifty or more turns zapping it to no effect.
55d83164e Cavedwellers get radius 2 for nightvision (from SLASH'EM)
0796e775a The Wizard of Yendor will never steal the quest artifact of the current role (from UnNetHack).
5da14231d Allow being unpunished (ball & chain) if poly'd into monster with no limbs (from EvilHack).
448a9a16d Allow all position prompts to be aborted (from DynaHack). This applies to: jumping, polearm pounding, grappling hooks, scrolls of stinking cloud, paying with multiple shopkeepers in sight and spells of fireball and cone of cold.
a0f3bdfd5 Allow teleportation into unteleportable spots in wizard mode (from xNetHack).
38d597ee4 Auto-ID wand of cancellation after destroying a bag of holding with it (from UnNetHack).
70d9b5222 Show skill caps and percentage towards next level in #enhance (from xNetHack). This is from FIQHack, which got the skill cap display from SLEX and the percentage from DynaHack, modified to fit vanilla's coding and menu formatting style. I went with showing both the current and maximum skill level show as a fixed 12-character string (the longest is "Grand Master") rather than iterating through the skill cap strings and computing the longest one.
19f438405 Water walking boots self-identify when they prevent you entering water (from xNetHack).
e53670cfa Automatically identify acid in water explosions (from xNetHack) Suggested recently since it's unambiguous that it's acid. Only if dknown is true though; don't auto-id it if you're unable to tell the potion appearance somehow.
fcb050af8 Blessed stethoscopes can identify eggs (from xNetHack) From EvilHack, partly by way of SporkHack. Gives the player a nice way to determine what eggs they have without using formal identify or throwing them. But only when the egg is still fresh!
c6d5c78f9 XL10+ Rangers automatically see ammo enchantments (from xNetHack). This is a minor role benefit for Rangers, which will hopefully make them more able to use ammo they find.
8c79c03e0 Removed the Quest turn limit (from UnNetHack).
1dd4617e8 Reduce quest XL requirement to 10 (from xNetHack). Attempt at removing the tedium that grinding up to level 14 usually entails. Many characters are fully prepared to take on their quests at an earlier level, and if they are not, then they will die from overconfidence.
8c1639bda Engraving with wands that share the same engraving message can auto-ID through process of elimination (from UnNetHack).
92bce47fe Blessed scroll of destroy armor asks which armor to destroy (from xNetHack).
3aa9b6e5a Silence const char warning for create_particular_from_buffer.
abf39d210 Silence 'old-style function definition' warning for uhp and uhpmax.
8ff7b417a Auto-ID scrolls of scare monster during pickup when turning to dust (from UnNetHack).
258a9339a Change the symbol for sinks back to #. The devteam neglected to update the symbol in the guidebook, so maybe they weren't that serious about it ;)
ceaffe5f8 Automatically identify rings dropped into a sink when message is shown (from UnNetHack).
62c437f29 Remove Auto-select every item when putting into containers (from UnNetHack). "A - Auto-select every item" and "a - All types" sharing a key can lead to accidents when unintentionally inserting dangerous objects into specific containers.
958c37387 Loadstones are auto-identified when trying to drop them or put them into containers (from UnNetHack).
79396f963 Auto-ID tin whistles upon use. This was ported from UnNetHack. In that same commit the magic whistle was also auto-identified, but this has been handled in a much more sophisticated manner in 3.7 already.
a7b9b55e5 Formally identify magic flutes and harps on use (from UnNetHack)
8d8a59c8b Auto-ID for ring of regeneration (from UnNetHack).
e3413d282 Autoidentify wand of undead turning if engraving produces a message (from UnNetHack).
889d672a0 Autoidentify magic lamps and oil lamps when rubbing (from UnNetHack).
41241db3a Autoidentify dunce cap upon wearing (from UnNetHack).
f18948891 Autoidentify BUC of products from BUC identified tinning kit (from UnNetHackPlus). This change was taken from xnh; 3.7 already addressed the horn of plenty but the tinning kit still remained.
8a733f494 Adjust secret passage frequency and exclude them from DL 1-4 (from xnh).
f8df28913 New cmd: #wizclear (^z), does blessed annihilation (from SpliceHack)
bd7b4ee13 Allow wishing for monsters in wizmode (from UnNetHack).
25d6e8a97 Turn safewait off by default.
bf21a63c8 Disable farlook help.
055b44a9b Auto-ID wands when engraving (xnh).
d173b44c6 Automatically identify jumping boots when putting them on (from xnh). From UnNetHack, which got this by way of AceHack. Since jumping is something you can immediately test for after putting on unknown boots, this alleviates that little bit of tedium.
df7129d6a Disable the Rogue level.
ee6d7ce68 All roles start out knowing potions of water, blank scrolls, and scrolls of identify.
6025ed36b NetHack4 colored flashes when dropping a container on an altar (from xnh)
150458c4d Add tile reordering scripts.
d7e302997 Setup linux-debug hints and some simple sysconf config options for starting dev.
